<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Sunroof</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Language-Sunroof.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">sunroof-compiler-0.2.1: Monadic Javascript Compiler</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Sunroof</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Notes</a></li><li><a href="#g:2">Sunroof Compiler</a></li><li><a href="#g:3">Classes</a></li><li><a href="#g:4">Types</a></li><li><a href="#g:5">DSL Primitives and Utilties</a></li><li><a href="#g:6">Concurrency Primitives</a></li><li><a href="#g:7">Basic JS types</a><ul><li><a href="#g:8">JavaScript Object</a></li><li><a href="#g:9">Boolean</a></li><li><a href="#g:10">Numbers</a></li><li><a href="#g:11">Strings</a></li><li><a href="#g:12">Array</a></li><li><a href="#g:13">References</a></li><li><a href="#g:14">Channnels</a></li><li><a href="#g:15">Thread-safe Mutable Variables</a></li></ul></li><li><a href="#g:16">DSL Utilties</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Sunroof provides a way to express Javascript computations in
   Haskell. The computations can be expressed using the <code><a href="Language-Sunroof.html#t:JS">JS</a></code> monad.</p><p>There are ready to use API bindings for frequently used
   Javascript:</p><ul><li><code><a href="Language-Sunroof-JS.html#t:Browser">Browser</a></code> - Bindings of the standard browser APIs.</li><li><code><a href="Language-Sunroof-JS.html#t:Canvas">Canvas</a></code> - Bindings of the HTML5 canvas element API.</li><li><code><a href="Language-Sunroof-JS.html#t:JQuery">JQuery</a></code> - Bindings of some JQuery methods.</li><li><code><a href="Language-Sunroof-JS.html#t:Date">Date</a></code> - Bindings of the standard data API.</li></ul><p>It also provides an abstraction over Javascripts (not existing) threading
   model. Cooperative multithreading can be emulated using the Sunroof
   abstractions (<code><a href="Language-Sunroof.html#v:forkJS">forkJS</a></code>, <code><a href="Language-Sunroof.html#v:yield">yield</a></code>, <code><a href="Language-Sunroof.html#v:loop">loop</a></code>). Equivalents of well-known
   Haskell concurrency abstractions like <code><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Concurrent.html#t:MVar">MVar</a></code>
   or <code><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Concurrent.html#t:Chan">Chan</a></code> are also provided on Javascript level
   through <code><a href="Language-Sunroof.html#t:JSMVar">JSMVar</a></code> and <code><a href="Language-Sunroof.html#t:JSChan">JSChan</a></code>.</p><p>Due to the threading abstraction there are two kinds of computations.
   They are indicated by the first type parameter of <code><a href="Language-Sunroof.html#t:JS">JS</a></code> (a <code><a href="Language-Sunroof.html#t:T">T</a></code> value).
   Normal Javascript computations that can be assumed to terminate and
   that may deliver a result value are written in the <code><a href="Language-Sunroof.html#t:JSA">JSA</a></code> monad. While
   possibly blocking computations (those that involve threading operations)
   are written in the <code><a href="Language-Sunroof.html#t:JSB">JSB</a></code> monad.</p><p>As the computations are expressed in Haskell, they have a functional
   nature. It is possible to change the attribute values of objects using
   <code><a href="Language-Sunroof.html#v::-61-">:=</a></code> and <code><a href="Language-Sunroof.html#v:-35-">#</a></code>:</p><pre>o # att := val</pre><p>If a top-level mutable variable is needed, use the <code><a href="Language-Sunroof.html#t:JSRef">JSRef</a></code> abstraction.
   It is comparable to <code><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-IORef.html#t:IORef">IORef</a></code>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:sunroofCompileJSA">sunroofCompileJSA</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:CompilerOpts">CompilerOpts</a> -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> a -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:sunroofCompileJSB">sunroofCompileJSB</a> :: <a href="Language-Sunroof.html#t:CompilerOpts">CompilerOpts</a> -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> () -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CompilerOpts">CompilerOpts</a> = <a href="#v:CompilerOpts">CompilerOpts</a> {<ul class="subs"><li><a href="#v:co_on">co_on</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:co_cse">co_cse</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:co_const">co_const</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:co_verbose">co_verbose</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:co_compress">co_compress</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="#t:Sunroof">Sunroof</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:box">box</a> :: <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; a</li><li><a href="#v:unbox">unbox</a> :: a -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li><li><a href="#v:typeOf">typeOf</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Proxy.html#t:Proxy">Proxy</a> a -&gt; <a href="Language-Sunroof.html#t:Type">Type</a></li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:SunroofValue">SunroofValue</a> a <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:ValueOf">ValueOf</a> a :: *</li><li><a href="#v:js">js</a> :: a -&gt; <a href="Language-Sunroof.html#t:ValueOf">ValueOf</a> a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:SunroofArgument">SunroofArgument</a> args <span class="keyword">where</span><ul class="subs"><li><a href="#v:jsArgs">jsArgs</a> :: args -&gt; [<a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a>]</li><li><a href="#v:jsValue">jsValue</a> :: <a href="Language-Sunroof-Classes.html#t:UniqM">UniqM</a> m =&gt; m args</li><li><a href="#v:typesOf">typesOf</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Proxy.html#t:Proxy">Proxy</a> args -&gt; [<a href="Language-Sunroof.html#t:Type">Type</a>]</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o =&gt; <a href="#t:JSTuple">JSTuple</a> o <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:Internals">Internals</a> o</li><li><a href="#v:match">match</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o =&gt; o -&gt; <a href="Language-Sunroof.html#t:Internals">Internals</a> o</li><li><a href="#v:tuple">tuple</a> ::  <a href="Language-Sunroof.html#t:Internals">Internals</a> o -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t o</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> key =&gt; <a href="#t:SunroofKey">SunroofKey</a> key <span class="keyword">where</span><ul class="subs"><li><a href="#v:jsKey">jsKey</a> ::  key -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Type">Type</a><ul class="subs"><li>= <a href="#v:Base">Base</a></li><li>| <a href="#v:Unit">Unit</a></li><li>| <a href="#v:Fun">Fun</a> [<a href="Language-Sunroof.html#t:Type">Type</a>] <a href="Language-Sunroof.html#t:Type">Type</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:T">T</a><ul class="subs"><li>= <a href="#v:A">A</a></li><li>| <a href="#v:B">B</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ThreadProxy">ThreadProxy</a> t = <a href="#v:ThreadProxy">ThreadProxy</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:SunroofThread">SunroofThread</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:evalStyle">evalStyle</a> :: <a href="Language-Sunroof.html#t:ThreadProxy">ThreadProxy</a> t -&gt; <a href="Language-Sunroof.html#t:T">T</a></li><li><a href="#v:blockableJS">blockableJS</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:JS">JS</a> :: <a href="Language-Sunroof.html#t:T">T</a> -&gt; * -&gt; * <span class="keyword">where</span><ul class="subs"><li><a href="#v:JS">JS</a> ::  ((a -&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/operational-0.2.3.2/html/Control-Monad-Operational.html#t:Program">Program</a> (<a href="Language-Sunroof-Types.html#t:JSI">JSI</a> t) ()) -&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/operational-0.2.3.2/html/Control-Monad-Operational.html#t:Program">Program</a> (<a href="Language-Sunroof-Types.html#t:JSI">JSI</a> t) ()) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li><a href="#v::-61-">(:=)</a> :: (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o) =&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a -&gt; a -&gt; o -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:JSA">JSA</a> a = <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:JSB">JSB</a> a = <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSFunction">JSFunction</a> args ret</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSContinuation">JSContinuation</a> args</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSSelector">JSSelector</a> a</li><li class="src short"><a href="#v:done">done</a> ::  <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li class="src short"><a href="#v:liftJS">liftJS</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li class="src short"><a href="#v:function">function</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b) =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> b) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a b)</li><li class="src short"><a href="#v:continuation">continuation</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> ()) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a)</li><li class="src short"><a href="#v:apply">apply</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> args, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> ret) =&gt; <a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> args ret -&gt; args -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ret</li><li class="src short"><a href="#v:-36--36-">($$)</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> args, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> ret) =&gt; <a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> args ret -&gt; args -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ret</li><li class="src short"><a href="#v:goto">goto</a> :: <span class="keyword">forall</span> args a t. <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> args =&gt; <a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> args -&gt; args -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li class="src short"><a href="#v:cast">cast</a> :: (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b) =&gt; a -&gt; b</li><li class="src short"><a href="#v:-35-">(#)</a> ::  a -&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t b) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t b</li><li class="src short"><a href="#v:attr">attr</a> ::  <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a</li><li class="src short"><a href="#v:fun">fun</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> r) =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a r</li><li class="src short"><a href="#v:invoke">invoke</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> r, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o) =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; a -&gt; o -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t r</li><li class="src short"><a href="#v:new">new</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t <a href="Language-Sunroof.html#t:JSObject">JSObject</a></li><li class="src short"><a href="#v:evaluate">evaluate</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li class="src short"><a href="#v:value">value</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li class="src short"><a href="#v:switch">switch</a> :: (<a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> a, <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> a ~ <a href="Language-Sunroof.html#t:JSBool">JSBool</a>, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> b, <a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> t) =&gt; a -&gt; [(a, <a href="Language-Sunroof.html#t:JS">JS</a> t b)] -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t b</li><li class="src short"><a href="#v:nullJS">nullJS</a> :: <a href="Language-Sunroof.html#t:JSObject">JSObject</a></li><li class="src short"><a href="#v:label">label</a> ::  <a href="Language-Sunroof.html#t:JSString">JSString</a> -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a</li><li class="src short"><a href="#v:index">index</a> ::  <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a</li><li class="src short"><a href="#v:-33-">(!)</a> :: <span class="keyword">forall</span> o a. (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; o -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a -&gt; a</li><li class="src short"><a href="#v:callcc">callcc</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</li><li class="src short"><a href="#v:comment">comment</a> ::  <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><a href="#v:delete">delete</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a -&gt; <a href="Language-Sunroof.html#t:JSObject">JSObject</a> -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><a href="#v:forkJS">forkJS</a> :: <a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> t1 =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t1 () -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t2 ()</li><li class="src short"><a href="#v:threadDelay">threadDelay</a> :: <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> -&gt; <a href="Language-Sunroof.html#t:JSB">JSB</a> ()</li><li class="src short"><a href="#v:yield">yield</a> :: <a href="Language-Sunroof.html#t:JSB">JSB</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSObject">JSObject</a></li><li class="src short"><a href="#v:this">this</a> :: <a href="Language-Sunroof.html#t:JSObject">JSObject</a></li><li class="src short"><a href="#v:object">object</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JSObject">JSObject</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:JSBool">JSBool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:JSNumber">JSNumber</a></li><li class="src short"><a href="#v:int">int</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:JSString">JSString</a></li><li class="src short"><a href="#v:string">string</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JSString">JSString</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:JSArray">JSArray</a> a</li><li class="src short"><a href="#v:array">array</a> :: (<a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:ValueOf">ValueOf</a> a)) =&gt; [a] -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> (<a href="Language-Sunroof.html#t:ValueOf">ValueOf</a> a))</li><li class="src short"><a href="#v:newArray">newArray</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> args, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; args -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a)</li><li class="src short"><a href="#v:length-39-">length'</a> :: <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></li><li class="src short"><a href="#v:lookup-39-">lookup'</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; a</li><li class="src short"><a href="#v:insert-39-">insert'</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> -&gt; a -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><a href="#v:shift">shift</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li class="src short"><a href="#v:unshift">unshift</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><a href="#v:pop">pop</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li class="src short"><a href="#v:push">push</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><a href="#v:forEach">forEach</a> :: (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> ()) -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><a href="#v:empty">empty</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSRef">JSRef</a> a</li><li class="src short"><a href="#v:newJSRef">newJSRef</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSRef">JSRef</a> a)</li><li class="src short"><a href="#v:readJSRef">readJSRef</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSRef">JSRef</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li><li class="src short"><a href="#v:writeJSRef">writeJSRef</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSRef">JSRef</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><a href="#v:modifyJSRef">modifyJSRef</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> a) -&gt; <a href="Language-Sunroof.html#t:JSRef">JSRef</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSChan">JSChan</a> a</li><li class="src short"><a href="#v:newChan">newChan</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> a)</li><li class="src short"><a href="#v:writeChan">writeChan</a> :: <span class="keyword">forall</span> t a. (<a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> t, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSChan">JSChan</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</li><li class="src short"><a href="#v:readChan">readChan</a> :: <span class="keyword">forall</span> a. (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; <a href="Language-Sunroof.html#t:JSChan">JSChan</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:JSMVar">JSMVar</a> a</li><li class="src short"><a href="#v:newMVar">newMVar</a> :: <span class="keyword">forall</span> a t. <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> a)</li><li class="src short"><a href="#v:newEmptyMVar">newEmptyMVar</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> a)</li><li class="src short"><a href="#v:takeMVar">takeMVar</a> :: <span class="keyword">forall</span> a. (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; <a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</li><li class="src short"><a href="#v:putMVar">putMVar</a> :: <span class="keyword">forall</span> a. <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> ()</li><li class="src short"><a href="#v:loop">loop</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; (a -&gt; <a href="Language-Sunroof.html#t:JSB">JSB</a> a) -&gt; <a href="Language-Sunroof.html#t:JSB">JSB</a> ()</li><li class="src short"><a href="#v:fixJS">fixJS</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JSA">JSA</a> a) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</li></ul></div><div id="interface"><h1 id="g:1">Notes</h1><div class="doc"><p>It is advised to use Sunroof with the following language extensions:</p><ul><li><code>OverloadedStrings</code> - Enables using literal strings for attribute
     names and Javascript strings.</li><li><code>DataKinds</code> - Enables using <code>JS A</code> or <code>JS B</code> instead of <code>JSA</code> and <code>JSB</code>.
     This extension is not essential.</li></ul></div><h1 id="g:2">Sunroof Compiler</h1><div class="top"><p class="src"><a name="v:sunroofCompileJSA" class="def">sunroofCompileJSA</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:CompilerOpts">CompilerOpts</a> -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> a -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>The sunroof compiler compiles an effect that returns a Sunroof/JavaScript
 value into a JavaScript program. An example invocation is</p><pre>GHCi&gt; import Language.Sunroof
GHCi&gt; import Language.Sunroof.JS.Browser
GHCi&gt; import Data.Default
GHCi&gt; txt &lt;- sunroofCompileJSA def &quot;main&quot; $ do alert(js &quot;Hello&quot;);
GHCi&gt; putStrLn txt
var main = (function() {
  alert(&quot;Hello&quot;);
})();
</pre><p>(The extra function and application are intentional and are a common JavaScript
 trick to circumvent scoping issues.)</p><p>To generate a function, not just an effect, you can use the <code>function</code> combinator.</p><pre>GHCi&gt; txt &lt;- sunroofCompileJSA def &quot;main&quot; $ do
           function $ \ n -&gt; do
               return (n * (n :: JSNumber))
GHCi&gt; putStrLn txt
var main = (function() {
  var v1 = function(v0) {
    return v0*v0;
  };
  return v1;
})();
</pre><p>Now <code>main</code> in JavaScript is bound to the square function.</p></div></div><div class="top"><p class="src"><a name="v:sunroofCompileJSB" class="def">sunroofCompileJSB</a> :: <a href="Language-Sunroof.html#t:CompilerOpts">CompilerOpts</a> -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> () -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Compiles code using the blocking threading model.
   Usage is the same as for <code><a href="Language-Sunroof.html#v:sunroofCompileJSA">sunroofCompileJSA</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CompilerOpts" class="def">CompilerOpts</a></p><div class="doc"><p>Options to setup the compiler.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CompilerOpts" class="def">CompilerOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:co_on" class="def">co_on</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>Do we reify to capture Haskell-level lets / CSEs?</p></dd><dt class="src"><a name="v:co_cse" class="def">co_cse</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>Do we also capture non-reified CSE, using Value Numbering?</p></dd><dt class="src"><a name="v:co_const" class="def">co_const</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>Do we constant fold?</p></dd><dt class="src"><a name="v:co_verbose" class="def">co_verbose</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>How verbose is the compiler when running? standard 0 - 3 scale</p></dd><dt class="src"><a name="v:co_compress" class="def">co_compress</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>Does the compiler output code without whitespace and layout? default == False</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:CompilerOpts" class="caption collapser" onclick="toggleSection('i:CompilerOpts')">Instances</p><div id="section.i:CompilerOpts" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof.html#t:CompilerOpts">CompilerOpts</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/data-default-0.5.3/html/Data-Default.html#t:Default">Default</a> <a href="Language-Sunroof.html#t:CompilerOpts">CompilerOpts</a></td><td class="doc"><p>Default compiler options.</p></td></tr></table></div></div></div><h1 id="g:3">Classes</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Sunroof" class="def">Sunroof</a> a <span class="keyword">where</span></p><div class="doc"><p>Central type class of Sunroof. Every type that can be translated
   into Javascript with Sunroof has to implement this type class.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Language-Sunroof.html#v:box">box</a>, <a href="Language-Sunroof.html#v:unbox">unbox</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:box" class="def">box</a> :: <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; a</p><div class="doc"><p>Create a Sunroof value from a plain Javascript expression.</p></div><p class="src"><a name="v:unbox" class="def">unbox</a> :: a -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></p><div class="doc"><p>Reveal the plain Javascript expression that represents this Sunroof value.</p></div><p class="src"><a name="v:typeOf" class="def">typeOf</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Proxy.html#t:Proxy">Proxy</a> a -&gt; <a href="Language-Sunroof.html#t:Type">Type</a></p><div class="doc"><p>Returns the type of Javascript expression this Sunroof value
   represents. The default implementation returns <code><a href="Language-Sunroof.html#v:Base">Base</a></code> as type.</p></div></div><div class="subs instances"><p id="control.i:Sunroof" class="caption collapser" onclick="toggleSection('i:Sunroof')">Instances</p><div id="section.i:Sunroof" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> ()</td><td class="doc"><p>Unit is a Sunroof value. It can be viewed as a representation
   of <code>null</code> or <code>void</code>.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc"><p>First-class values in Javascript.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc"><p>First-class Javascript value.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof-JS-Browser.html#t:JSConsole">JSConsole</a></td><td class="doc"><p>First-class values in Javascript.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof-JS-Date.html#t:JSDate">JSDate</a></td><td class="doc"><p>First-class values in Javascript.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof-JS-Canvas.html#t:JSCanvas">JSCanvas</a></td><td class="doc"><p>First-class values in Javascript.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a)</td><td class="doc"><p>Functions are first-class citizens of Javascript. Therefore they
   are <code><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a></code> values.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSRef">JSRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a)</td><td class="doc"><p>Arrays are first-class Javascript values.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> r) =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a r)</td><td class="doc"><p>Functions are first-class citizens of Javascript. Therefore they
   are <code><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a></code> values.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:SunroofKey">SunroofKey</a> k, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof-JS-Map.html#t:JSMap">JSMap</a> k a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:SunroofValue" class="def">SunroofValue</a> a <span class="keyword">where</span></p><div class="doc"><p>All Haskell values that have a Sunroof representation
   implement this class.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:ValueOf" class="def">ValueOf</a> a :: *</p><div class="doc"><p>The Sunroot type that is equivalent to the implementing Haskell type.</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:js" class="def">js</a> :: a -&gt; <a href="Language-Sunroof.html#t:ValueOf">ValueOf</a> a</p><div class="doc"><p>Convert the Haskell value to its Sunroof equivalent.</p></div></div><div class="subs instances"><p id="control.i:SunroofValue" class="caption collapser" onclick="toggleSection('i:SunroofValue')">Instances</p><div id="section.i:SunroofValue" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Char.html#t:Char">Char</a></td><td class="doc"><p>Create a single character <code><a href="Language-Sunroof.html#t:JSString">JSString</a></code> from a <code><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Char.html#t:Char">Char</a></code>.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Prelude.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Prelude.html#t:Float">Float</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Prelude.html#t:Integer">Integer</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> ()</td><td class="doc"><p>Unit is unit.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> [<a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Char.html#t:Char">Char</a>]</td><td class="doc"><p>Create a <code><a href="Language-Sunroof.html#t:JSString">JSString</a></code> from a <code><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></code>.</p></td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Prelude.html#t:Integral">Integral</a> a =&gt; <a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> (<a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Ratio.html#t:Ratio">Ratio</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> ())</td><td class="doc"><p><code><a href="Language-Sunroof.html#t:JSFunction">JSFunction</a></code>s may be created from Haskell functions if they have
   the right form.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b) =&gt; <a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> b)</td><td class="doc"><p><code><a href="Language-Sunroof.html#t:JSFunction">JSFunction</a></code>s may be created from Haskell functions if they have
   the right form.</p></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:SunroofArgument" class="def">SunroofArgument</a> args <span class="keyword">where</span></p><div class="doc"><p>Everything that can be used as argument to a function is Javascript/Sunroof.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:jsArgs" class="def">jsArgs</a> :: args -&gt; [<a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a>]</p><div class="doc"><p>Turn the argument into a list of expressions.</p></div><p class="src"><a name="v:jsValue" class="def">jsValue</a> :: <a href="Language-Sunroof-Classes.html#t:UniqM">UniqM</a> m =&gt; m args</p><div class="doc"><p>Create a list of fresh variables for the arguments.</p></div><p class="src"><a name="v:typesOf" class="def">typesOf</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Proxy.html#t:Proxy">Proxy</a> args -&gt; [<a href="Language-Sunroof.html#t:Type">Type</a>]</p><div class="doc"><p>Get the type of the argument values.</p></div></div><div class="subs instances"><p id="control.i:SunroofArgument" class="caption collapser" onclick="toggleSection('i:SunroofArgument')">Instances</p><div id="section.i:SunroofArgument" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> ()</td><td class="doc"><p>Unit is the empty argument list.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a</td><td class="doc"><p>Every <code><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a></code> value can be an argument to a function.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b) =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> (a, b)</td><td class="doc"><p>Two arguments.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> c) =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> (a, b, c)</td><td class="doc"><p>Three arguments.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> c, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> d) =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> (a, b, c, d)</td><td class="doc"><p>Four arguments.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> c, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> d, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> e) =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> (a, b, c, d, e)</td><td class="doc"><p>Five arguments.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> c, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> d, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> e, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> f) =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> (a, b, c, d, e, f)</td><td class="doc"><p>Six arguments.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> c, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> d, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> e, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> f, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> g) =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> (a, b, c, d, e, f, g)</td><td class="doc"><p>Seven arguments.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> c, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> d, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> e, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> f, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> g, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> h) =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> (a, b, c, d, e, f, g, h)</td><td class="doc"><p>Eight arguments.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> c, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> d, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> e, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> f, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> g, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> h, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> i) =&gt; <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> (a, b, c, d, e, f, g, h, i)</td><td class="doc"><p>Nine arguments.</p></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o =&gt; <a name="t:JSTuple" class="def">JSTuple</a> o <span class="keyword">where</span></p><div class="doc"><p>If something is a <code><a href="Language-Sunroof.html#t:JSTuple">JSTuple</a></code>, it can easily be decomposed and
   recomposed from different components. This is meant as a convenient
   access to attributes of an object.
 TODO: revisit this</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:Internals" class="def">Internals</a> o</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:match" class="def">match</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o =&gt; o -&gt; <a href="Language-Sunroof.html#t:Internals">Internals</a> o</p><p class="src"><a name="v:tuple" class="def">tuple</a> ::  <a href="Language-Sunroof.html#t:Internals">Internals</a> o -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t o</p></div><div class="subs instances"><p id="control.i:JSTuple" class="caption collapser" onclick="toggleSection('i:JSTuple')">Instances</p><div id="section.i:JSTuple" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:JSTuple">JSTuple</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="Language-Sunroof.html#t:JSTuple">JSTuple</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="Language-Sunroof.html#t:JSTuple">JSTuple</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> key =&gt; <a name="t:SunroofKey" class="def">SunroofKey</a> key <span class="keyword">where</span></p><div class="doc"><p>Everything that can be used as an key in a dictionary lookup.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:jsKey" class="def">jsKey</a> ::  key -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a</p></div><div class="subs instances"><p id="control.i:SunroofKey" class="caption collapser" onclick="toggleSection('i:SunroofKey')">Instances</p><div id="section.i:SunroofKey" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofKey">SunroofKey</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofKey">SunroofKey</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofKey">SunroofKey</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:4">Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Type" class="def">Type</a></p><div class="doc"><p>Abstract types for Javascript expressions in Sunroof.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Base" class="def">Base</a></td><td class="doc"><p>Base type like object or other primtive types.</p></td></tr><tr><td class="src"><a name="v:Unit" class="def">Unit</a></td><td class="doc"><p>Unit or void type. There is a effect but no value.</p></td></tr><tr><td class="src"><a name="v:Fun" class="def">Fun</a> [<a href="Language-Sunroof.html#t:Type">Type</a>] <a href="Language-Sunroof.html#t:Type">Type</a></td><td class="doc"><p>Function type: <code>(t_1,..,t_n) -&gt; t</code></p></td></tr></table></div><div class="subs instances"><p id="control.i:Type" class="caption collapser" onclick="toggleSection('i:Type')">Instances</p><div id="section.i:Type" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Sunroof.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="Language-Sunroof.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:T" class="def">T</a></p><div class="doc"><p>The possible threading models for Javascript computations.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:A" class="def">A</a></td><td class="doc"><p>Atomic - The computation will not be interrupted.</p></td></tr><tr><td class="src"><a name="v:B" class="def">B</a></td><td class="doc"><p>Blocking - The computation may block and wait to enable
   interleaving with other computations.</p></td></tr></table></div><div class="subs instances"><p id="control.i:T" class="caption collapser" onclick="toggleSection('i:T')">Instances</p><div id="section.i:T" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Sunroof.html#t:T">T</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="Language-Sunroof.html#t:T">T</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof.html#t:T">T</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ThreadProxy" class="def">ThreadProxy</a> t</p><div class="doc"><p>A proxy to capture the type of threading model used.
   See <code><a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ThreadProxy" class="def">ThreadProxy</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:SunroofThread" class="def">SunroofThread</a> t <span class="keyword">where</span></p><div class="doc"><p>When implemented the type supports determining the threading model
   during runtime.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:evalStyle" class="def">evalStyle</a> :: <a href="Language-Sunroof.html#t:ThreadProxy">ThreadProxy</a> t -&gt; <a href="Language-Sunroof.html#t:T">T</a></p><div class="doc"><p>Determine the used threading model captured the given <code><a href="Language-Sunroof.html#t:ThreadProxy">ThreadProxy</a></code>
   object.</p></div><p class="src"><a name="v:blockableJS" class="def">blockableJS</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</p><div class="doc"><p>Create a possibly blocking computation from the given one.</p></div></div><div class="subs instances"><p id="control.i:SunroofThread" class="caption collapser" onclick="toggleSection('i:SunroofThread')">Instances</p><div id="section.i:SunroofThread" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> <a href="Language-Sunroof.html#v:B">B</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> <a href="Language-Sunroof.html#v:A">A</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JS" class="def">JS</a> :: <a href="Language-Sunroof.html#t:T">T</a> -&gt; * -&gt; * <span class="keyword">where</span></p><div class="doc"><p>The monadic type of Javascript computations.</p><p><code>JS t a</code> is a computation using the thread model <code>t</code> (see <code><a href="Language-Sunroof.html#t:T">T</a></code>).
   It returns a result of type <code>a</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:JS" class="def">JS</a> ::  ((a -&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/operational-0.2.3.2/html/Control-Monad-Operational.html#t:Program">Program</a> (<a href="Language-Sunroof-Types.html#t:JSI">JSI</a> t) ()) -&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/operational-0.2.3.2/html/Control-Monad-Operational.html#t:Program">Program</a> (<a href="Language-Sunroof-Types.html#t:JSI">JSI</a> t) ()) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v::-61-" class="def">(:=)</a> :: (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o) =&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a -&gt; a -&gt; o -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t () <span class="fixity">infix 5</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:JS" class="caption collapser" onclick="toggleSection('i:JS')">Instances</p><div id="section.i:JS" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Language-Sunroof.html#t:JS">JS</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Monad.html#t:Functor">Functor</a> (<a href="Language-Sunroof.html#t:JS">JS</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> t, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> (<a href="Language-Sunroof.html#t:JS">JS</a> t a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Language-Sunroof.html#t:JS">JS</a> t ())</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/semigroups-0.15.1/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> (<a href="Language-Sunroof.html#t:JS">JS</a> t a)</td><td class="doc"><p>We define the Semigroup instance for JS, where
   the first result (but not the first effect) is discarded.
   Thus, <code><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/semigroups-0.15.1/html/Data-Semigroup.html#v:-60--62-">&lt;&gt;</a></code> is the analog of the monadic <code><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Monad.html#v:-62--62-">&gt;&gt;</a></code>.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> ())</td><td class="doc"><p><code><a href="Language-Sunroof.html#t:JSFunction">JSFunction</a></code>s may be created from Haskell functions if they have
   the right form.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b) =&gt; <a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> b)</td><td class="doc"><p><code><a href="Language-Sunroof.html#t:JSFunction">JSFunction</a></code>s may be created from Haskell functions if they have
   the right form.</p></td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> (<a href="Language-Sunroof.html#t:JS">JS</a> t a) = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Language-Sunroof.html#t:ValueOf">ValueOf</a> (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> ()) = <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Language-Sunroof.html#t:ValueOf">ValueOf</a> (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> b) = <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> (<a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a b)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:JSA" class="def">JSA</a> a = <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> a</p><div class="doc"><p>Short-hand type for atmoic Javascript computations.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:JSB" class="def">JSB</a> a = <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</p><div class="doc"><p>Short-hand type for possibly blocking Javascript computations.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSFunction" class="def">JSFunction</a> args ret</p><div class="doc"><p>Type of Javascript functions.
   The first type argument is the type of function argument.
   This needs to be a instance of <code><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a></code>.
   The second type argument of <code><a href="Language-Sunroof.html#t:JSFunction">JSFunction</a></code> is the function return type.
   It needs to be a instance of <code><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a></code>.</p></div><div class="subs instances"><p id="control.i:JSFunction" class="caption collapser" onclick="toggleSection('i:JSFunction')">Instances</p><div id="section.i:JSFunction" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a r)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> r) =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> (<a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a r)</td><td class="doc"><p>Functions may be the result of a branch.</p></td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> r) =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a r)</td><td class="doc"><p>Functions are first-class citizens of Javascript. Therefore they
   are <code><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a></code> values.</p></td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> (<a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a r) = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSContinuation" class="def">JSContinuation</a> args</p><div class="doc"><p>Type of Javascript functions.
   The first type argument is the type of function argument.
   This needs to be a instance of <code><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a></code>.
   The second type argument of <code><a href="Language-Sunroof.html#t:JSFunction">JSFunction</a></code> is the function return type.
   It needs to be a instance of <code><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a></code>.</p></div><div class="subs instances"><p id="control.i:JSContinuation" class="caption collapser" onclick="toggleSection('i:JSContinuation')">Instances</p><div id="section.i:JSContinuation" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> r) =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a)</td><td class="doc"><p>Functions may be the result of a branch.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a)</td><td class="doc"><p>Functions are first-class citizens of Javascript. Therefore they
   are <code><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a></code> values.</p></td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a) = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSSelector" class="def">JSSelector</a> a</p><div class="doc"><p>A <code><a href="Language-Sunroof.html#t:JSSelector">JSSelector</a></code> selects a field or attribute from a Javascript object.
   The phantom type is the type of the selected value. Note the selected 
   field or attributes may also array entries (<code><a href="Language-Sunroof.html#v:index">index</a></code>).</p></div><div class="subs instances"><p id="control.i:JSSelector" class="caption collapser" onclick="toggleSection('i:JSSelector')">Instances</p><div id="section.i:JSSelector" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:IsString">IsString</a> (<a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a)</td><td class="doc"><p>Selectors can be created from the name of their attribute.</p></td></tr></table></div></div></div><h1 id="g:5">DSL Primitives and Utilties</h1><div class="top"><p class="src"><a name="v:done" class="def">done</a> ::  <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p>Abort the current computation at this point.</p></div></div><div class="top"><p class="src"><a name="v:liftJS" class="def">liftJS</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p>Lift the atomic computation into another computation.</p></div></div><div class="top"><p class="src"><a name="v:function" class="def">function</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b) =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> b) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a b)</p><div class="doc"><p>Create an <code><a href="Language-Sunroof.html#v:A">A</a></code>tomic Javascript function from a Haskell function.</p></div></div><div class="top"><p class="src"><a name="v:continuation" class="def">continuation</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> ()) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a)</p><div class="doc"><p>We can compile <code><a href="Language-Sunroof.html#v:B">B</a></code>lockable functions that return <code>()</code>.
   Note that, with the <code><a href="Language-Sunroof.html#v:B">B</a></code>-style threads, we return from a
   call when we first block, not at completion of the call.</p></div></div><div class="top"><p class="src"><a name="v:apply" class="def">apply</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> args, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> ret) =&gt; <a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> args ret -&gt; args -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ret <span class="fixity">infixl 1</span><span class="rightedge"></span></p><div class="doc"><p><code>apply f a</code> applies the function <code>f</code> to the given arguments <code>a</code>.
   A typical use case looks like this:</p><pre>foo `apply` (x,y)</pre><p>See <code><a href="Language-Sunroof.html#v:-36--36-">$$</a></code> for a convenient infix operator to do this.</p></div></div><div class="top"><p class="src"><a name="v:-36--36-" class="def">($$)</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> args, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> ret) =&gt; <a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> args ret -&gt; args -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ret</p><div class="doc"><p><code>f $$ a</code> applies the function <code>f</code> to the given arguments <code>a</code>.
   See <code><a href="Language-Sunroof.html#v:apply">apply</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:goto" class="def">goto</a> :: <span class="keyword">forall</span> args a t. <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> args =&gt; <a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> args -&gt; args -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p><code>goto</code> calls the given continuation with the given argument,
   and never returns.</p></div></div><div class="top"><p class="src"><a name="v:cast" class="def">cast</a> :: (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b) =&gt; a -&gt; b</p><div class="doc"><p>Cast one Sunroof value into another.</p><p>This is sometimes needed due to Javascripts flexible type system.</p></div></div><div class="top"><p class="src"><a name="v:-35-" class="def">(#)</a> ::  a -&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t b) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t b <span class="fixity">infixr 0</span><span class="rightedge"></span></p><div class="doc"><p>The <code>#</code>-operator is the Haskell analog to the <code>.</code>-operator
   in Javascript. Example:</p><pre>document # getElementById &quot;bla&quot;</pre><p>This can be seen as equivalent of <code>document.getElementById(&quot;bla&quot;)</code>.</p></div></div><div class="top"><p class="src"><a name="v:attr" class="def">attr</a> ::  <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a</p><div class="doc"><p>Creates a selector for attributes of Javascript objects.
   It is advised to use this together with an associated type
   signature to avoid ambiguity. Example:</p><pre>length :: JSSelector JSNumber
length = attr &quot;length&quot;</pre><p>Selectors can be used with <code><a href="Language-Sunroof.html#v:-33-">!</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:fun" class="def">fun</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> r) =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JSFunction">JSFunction</a> a r</p><div class="doc"><p>Create a binding to a Javascript top-level function with
   the given name. It is advised to create these bindings with an
   associated type signature to ensure type safty while using
   this function. Example:</p><pre>alert :: JSFunction JSString ()
alert = fun &quot;alert&quot;</pre></div></div><div class="top"><p class="src"><a name="v:invoke" class="def">invoke</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> r, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o) =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; a -&gt; o -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t r</p><div class="doc"><p><code>invoke s a o</code> calls the method with name <code>s</code> using the arguments <code>a</code>
   on the object <code>o</code>. A typical use would look like this:</p><pre>o # invoke &quot;foo&quot; (x, y)</pre><p>Another use case is writing Javascript API bindings for common methods:</p><pre>getElementById :: JSString -&gt; JSObject -&gt; JS t JSObject
getElementById s = invoke &quot;getElementById&quot; s</pre><p>Like this the flexible type signature gets fixed. See <code><a href="Language-Sunroof.html#v:-35-">#</a></code>
   for how to use these bindings.</p></div></div><div class="top"><p class="src"><a name="v:new" class="def">new</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t <a href="Language-Sunroof.html#t:JSObject">JSObject</a></p><div class="doc"><p><code>new n a</code> calls the new operator on the constructor <code>n</code>
   supplying the argument <code>a</code>. A typical use would look like this:</p><pre>new &quot;Object&quot; ()</pre></div></div><div class="top"><p class="src"><a name="v:evaluate" class="def">evaluate</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p>Evaluate a <code><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a></code> value. This forces evaluation
   of the given expression to a value and enables binding it to a
   variable. Example:</p><pre>x &lt;- evaluate $ &quot;A&quot; &lt;&gt; &quot;B&quot;
alert x
alert x</pre><p>This would result in: <code>var v0 = &quot;A&quot;+&quot;B&quot;; alert(v0); alert(v0);</code>. But:</p><pre>x &lt;- return $ &quot;A&quot; &lt;&gt; &quot;B&quot;
alert x
alert x</pre><p>This will result in: <code>alert(&quot;A&quot;+&quot;B&quot;); alert(&quot;A&quot;+&quot;B&quot;);</code>.</p></div></div><div class="top"><p class="src"><a name="v:value" class="def">value</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p>Synonym for <code><a href="Language-Sunroof.html#v:evaluate">evaluate</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:switch" class="def">switch</a> :: (<a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> a, <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> a ~ <a href="Language-Sunroof.html#t:JSBool">JSBool</a>, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> b, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> b, <a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> t) =&gt; a -&gt; [(a, <a href="Language-Sunroof.html#t:JS">JS</a> t b)] -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t b</p><div class="doc"><p>Combinator for <code>switch</code>-like statements in Javascript.</p><p><em>Note</em>: This will not be translated into
   actual switch statment, because you are aloud arbitrary
   expressions in the cases.</p></div></div><div class="top"><p class="src"><a name="v:nullJS" class="def">nullJS</a> :: <a href="Language-Sunroof.html#t:JSObject">JSObject</a></p><div class="doc"><p>The <code>null</code> reference in Javascript.</p></div></div><div class="top"><p class="src"><a name="v:label" class="def">label</a> ::  <a href="Language-Sunroof.html#t:JSString">JSString</a> -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a</p><div class="doc"><p>Create a selector for a named field or attribute.
   For type safty it is adivsed to use this with an 
   accompanying type signature. Example:</p><pre>array ! label &quot;length&quot;</pre><p>See <code><a href="Language-Sunroof.html#v:-33-">!</a></code> for further information on usage.</p></div></div><div class="top"><p class="src"><a name="v:index" class="def">index</a> ::  <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a</p><div class="doc"><p>Create a selector for an indexed value (e.g. array access).
   For type safty it is adivsed to use this with an 
   accompanying type signature. Example:</p><pre>array ! index 4</pre><p>See <code><a href="Language-Sunroof.html#v:-33-">!</a></code> for further information on usage.</p></div></div><div class="top"><p class="src"><a name="v:-33-" class="def">(!)</a> :: <span class="keyword">forall</span> o a. (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> o, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; o -&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a -&gt; a <span class="fixity">infixl 1</span><span class="rightedge"></span></p><div class="doc"><p>Operator to use a selector on a Javascript object. Examples:</p><pre>array ! label &quot;length&quot;
array ! index 4</pre></div></div><div class="top"><p class="src"><a name="v:callcc" class="def">callcc</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</p><div class="doc"><p>Reify the current contination as a Javascript continuation</p></div></div><div class="top"><p class="src"><a name="v:comment" class="def">comment</a> ::  <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p>Write a JavaScript comment into the generated source.</p></div></div><div class="top"><p class="src"><a name="v:delete" class="def">delete</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> a -&gt; <a href="Language-Sunroof.html#t:JSObject">JSObject</a> -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p><code>o # delete lab</code> removes the label <code>lab</code> from the object <code>o</code>.</p></div></div><h1 id="g:6">Concurrency Primitives</h1><div class="top"><p class="src"><a name="v:forkJS" class="def">forkJS</a> :: <a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> t1 =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t1 () -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t2 ()</p><div class="doc"><p>Fork of the given computation in a different thread.</p></div></div><div class="top"><p class="src"><a name="v:threadDelay" class="def">threadDelay</a> :: <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> -&gt; <a href="Language-Sunroof.html#t:JSB">JSB</a> ()</p><div class="doc"><p>Delay the execution of all instructions after this one by
   the given amount of milliseconds.</p></div></div><div class="top"><p class="src"><a name="v:yield" class="def">yield</a> :: <a href="Language-Sunroof.html#t:JSB">JSB</a> ()</p><div class="doc"><p>Give another thread time to execute.</p></div></div><h1 id="g:7">Basic JS types</h1><h2 id="g:8">JavaScript Object</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSObject" class="def">JSObject</a></p><div class="doc"><p>Data type for all Javascript objects.</p></div><div class="subs instances"><p id="control.i:JSObject" class="caption collapser" onclick="toggleSection('i:JSObject')">Instances</p><div id="section.i:JSObject" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a></td><td class="doc"><p>Reference equality, not value equality.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:JSTuple">JSTuple</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a> = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Language-Sunroof.html#t:Internals">Internals</a> <a href="Language-Sunroof.html#t:JSObject">JSObject</a> = ()</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:this" class="def">this</a> :: <a href="Language-Sunroof.html#t:JSObject">JSObject</a></p><div class="doc"><p>The <code>this</code> reference.</p></div></div><div class="top"><p class="src"><a name="v:object" class="def">object</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JSObject">JSObject</a></p><div class="doc"><p>Create an arbitrary object from a literal in form of a string.</p></div></div><h2 id="g:9">Boolean</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSBool" class="def">JSBool</a></p><div class="doc"><p>Booleans in Javascript.</p></div><div class="subs instances"><p id="control.i:JSBool" class="caption collapser" onclick="toggleSection('i:JSBool')">Instances</p><div id="section.i:JSBool" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:Boolean">Boolean</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofKey">SunroofKey</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> <a href="Language-Sunroof.html#t:JSBool">JSBool</a> = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:10">Numbers</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSNumber" class="def">JSNumber</a></p><div class="doc"><p>Type of numbers in Javascript.</p></div><div class="subs instances"><p id="control.i:JSNumber" class="caption collapser" onclick="toggleSection('i:JSNumber')">Instances</p><div id="section.i:JSNumber" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Prelude.html#t:Floating">Floating</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Prelude.html#t:Fractional">Fractional</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Prelude.html#t:Num">Num</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc"><p>Show the Javascript</p></td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean-Numbers.html#t:NumB">NumB</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean-Numbers.html#t:IntegralB">IntegralB</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean-Numbers.html#t:RealFracB">RealFracB</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean-Numbers.html#t:RealFloatB">RealFloatB</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:OrdB">OrdB</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/vector-space-0.8.7/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/vector-space-0.8.7/html/Data-AdditiveGroup.html#t:AdditiveGroup">AdditiveGroup</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc"><p>First-class values in Javascript.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofKey">SunroofKey</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean-Numbers.html#t:IntegerOf">IntegerOf</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> = <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/vector-space-0.8.7/html/Data-VectorSpace.html#t:Scalar">Scalar</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> = <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:int" class="def">int</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></p><div class="doc"><p>A explicit cast to int.</p></div></div><h2 id="g:11">Strings</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSString" class="def">JSString</a></p><div class="doc"><p>Javascript string type.</p></div><div class="subs instances"><p id="control.i:JSString" class="caption collapser" onclick="toggleSection('i:JSString')">Instances</p><div id="section.i:JSString" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc"><p>Show the Javascript.</p></td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:IsString">IsString</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc"><p>Create them from Haskell <code><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></code>s.</p></td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc"><p>Value equality.</p></td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc"><p>Monoid under concatination and empty string.</p></td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/semigroups-0.15.1/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc"><p>Semigroup under concatination.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc"><p>First-class Javascript value.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofKey">SunroofKey</a> <a href="Language-Sunroof.html#t:JSString">JSString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> <a href="Language-Sunroof.html#t:JSString">JSString</a> = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:string" class="def">string</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof.html#t:JSString">JSString</a></p><div class="doc"><p>Create a Javascript string from a Haskell string.</p></div></div><h2 id="g:12">Array</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSArray" class="def">JSArray</a> a</p><div class="doc"><p>Type if arrays in Javascript. The type parameter
   given the entry type.</p></div><div class="subs instances"><p id="control.i:JSArray" class="caption collapser" onclick="toggleSection('i:JSArray')">Instances</p><div id="section.i:JSArray" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a)</td><td class="doc"><p>Show the Javascript.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a)</td><td class="doc"><p>You can write branches that return arrays.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a)</td><td class="doc"><p>Arrays are first-class Javascript values.</p></td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a) = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc"><p>The boolean of arrays are <code><a href="Language-Sunroof.html#t:JSBool">JSBool</a></code>.</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:array" class="def">array</a> :: (<a href="Language-Sunroof.html#t:SunroofValue">SunroofValue</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:ValueOf">ValueOf</a> a)) =&gt; [a] -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> (<a href="Language-Sunroof.html#t:ValueOf">ValueOf</a> a))</p><div class="doc"><p>Create a literal array from a Haskell list.</p></div></div><div class="top"><p class="src"><a name="v:newArray" class="def">newArray</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> args, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; args -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a)</p><div class="doc"><p>Create a new array object containing the given values.</p></div></div><div class="top"><p class="src"><a name="v:length-39-" class="def">length'</a> :: <a href="Language-Sunroof.html#t:JSSelector">JSSelector</a> <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a></p><div class="doc"><p>The <code>length</code> property of arrays.</p></div></div><div class="top"><p class="src"><a name="v:lookup-39-" class="def">lookup'</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; a</p><div class="doc"><p>A type-safe version of array lookup.</p></div></div><div class="top"><p class="src"><a name="v:insert-39-" class="def">insert'</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSNumber">JSNumber</a> -&gt; a -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p>A type-safe version of array insert.</p></div></div><div class="top"><p class="src"><a name="v:shift" class="def">shift</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p>Removes and return the first element of an array (dequeue).
   See <a href="http://www.w3schools.com/jsref/jsref_shift.asp">http://www.w3schools.com/jsref/jsref_shift.asp</a>.</p></div></div><div class="top"><p class="src"><a name="v:unshift" class="def">unshift</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p>Adds a new element to the beginning of the array (queue).
   Returns nothing instead of the new length.
   See <a href="http://www.w3schools.com/jsref/jsref_unshift.asp">http://www.w3schools.com/jsref/jsref_unshift.asp</a>.</p></div></div><div class="top"><p class="src"><a name="v:pop" class="def">pop</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p>Pop a element from the array as if it was a stack.
   See <a href="http://www.w3schools.com/jsref/jsref_pop.asp">http://www.w3schools.com/jsref/jsref_pop.asp</a>.</p></div></div><div class="top"><p class="src"><a name="v:push" class="def">push</a> :: (<a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a, <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a) =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p>Push a element into the array as if it was a stack.
   Returns nothing instead of the new length.
   See <a href="http://www.w3schools.com/jsref/jsref_push.asp">http://www.w3schools.com/jsref/jsref_push.asp</a>.</p></div></div><div class="top"><p class="src"><a name="v:forEach" class="def">forEach</a> :: (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> ()) -&gt; <a href="Language-Sunroof.html#t:JSArray">JSArray</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p>Foreach iteration method provided by most browsers.
   Execute the given action on each element of the array.
   See
   <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach">https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach</a>,
   <a href="http://msdn.microsoft.com/en-us/library/ie/ff679980.aspx">http://msdn.microsoft.com/en-us/library/ie/ff679980.aspx</a>.</p></div></div><div class="top"><p class="src"><a name="v:empty" class="def">empty</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> a)</p><div class="doc"><p>The empty array.</p></div></div><h2 id="g:13">References</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSRef" class="def">JSRef</a> a</p><div class="doc"><p>This is the <code>IORef</code> of Sunroof.</p></div><div class="subs instances"><p id="control.i:JSRef" class="caption collapser" onclick="toggleSection('i:JSRef')">Instances</p><div id="section.i:JSRef" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Sunroof.html#t:JSRef">JSRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> (<a href="Language-Sunroof.html#t:JSRef">JSRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> (<a href="Language-Sunroof.html#t:JSRef">JSRef</a> a)</td><td class="doc"><p>Reference equality, not value equality.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSRef">JSRef</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> (<a href="Language-Sunroof.html#t:JSRef">JSRef</a> a) = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:newJSRef" class="def">newJSRef</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSRef">JSRef</a> a)</p><div class="doc"><p>Create a new <code><a href="Language-Sunroof.html#t:JSRef">JSRef</a></code> with the given intial value.</p></div></div><div class="top"><p class="src"><a name="v:readJSRef" class="def">readJSRef</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; <a href="Language-Sunroof.html#t:JSRef">JSRef</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p>Non-blocking read of a <code><a href="Language-Sunroof.html#t:JSRef">JSRef</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:writeJSRef" class="def">writeJSRef</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSRef">JSRef</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p>Non-blocking write of a <code><a href="Language-Sunroof.html#t:JSRef">JSRef</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:modifyJSRef" class="def">modifyJSRef</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:A">A</a> a) -&gt; <a href="Language-Sunroof.html#t:JSRef">JSRef</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p>Non-blocking modification of a <code><a href="Language-Sunroof.html#t:JSRef">JSRef</a></code>.</p></div></div><h2 id="g:14">Channnels</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSChan" class="def">JSChan</a> a</p><div class="doc"><p><code><a href="Language-Sunroof.html#t:JSChan">JSChan</a></code> abstraction. The type parameter gives
   the type of values held in the channel.</p></div><div class="subs instances"><p id="control.i:JSChan" class="caption collapser" onclick="toggleSection('i:JSChan')">Instances</p><div id="section.i:JSChan" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o)</td><td class="doc"><p>Reference equality, not value equality.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="Language-Sunroof.html#t:JSTuple">JSTuple</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o0) = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Language-Sunroof.html#t:Internals">Internals</a> (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> o0) = (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> o0)), <a href="Language-Sunroof.html#t:JSArray">JSArray</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> o0))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:newChan" class="def">newChan</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSChan">JSChan</a> a)</p><div class="doc"><p>Create a new empty <code><a href="Language-Sunroof.html#t:JSChan">JSChan</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:writeChan" class="def">writeChan</a> :: <span class="keyword">forall</span> t a. (<a href="Language-Sunroof.html#t:SunroofThread">SunroofThread</a> t, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSChan">JSChan</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t ()</p><div class="doc"><p>Put a value into the channel. This will never block.</p></div></div><div class="top"><p class="src"><a name="v:readChan" class="def">readChan</a> :: <span class="keyword">forall</span> a. (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; <a href="Language-Sunroof.html#t:JSChan">JSChan</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</p><div class="doc"><p>Take a value out of the channel. If there is no value
   inside, this will block until one is available.</p></div></div><h2 id="g:15">Thread-safe Mutable Variables</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JSMVar" class="def">JSMVar</a> a</p><div class="doc"><p><code><a href="Language-Sunroof.html#t:JSMVar">JSMVar</a></code> abstraction. The type parameter gives
   the type of values held in a <code><a href="Language-Sunroof.html#t:JSMVar">JSMVar</a></code>.</p></div><div class="subs instances"><p id="control.i:JSMVar" class="caption collapser" onclick="toggleSection('i:JSMVar')">Instances</p><div id="section.i:JSMVar" class="show"><table><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:IfB">IfB</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o =&gt; <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:EqB">EqB</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o)</td><td class="doc"><p>Reference equality, not value equality.</p></td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> o0 =&gt; <a href="Language-Sunroof.html#t:JSTuple">JSTuple</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/lib/sunroof-compiler-0.2/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/Boolean-0.2.1/html/Data-Boolean.html#t:BooleanOf">BooleanOf</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o0) = <a href="Language-Sunroof.html#t:JSBool">JSBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Language-Sunroof.html#t:Internals">Internals</a> (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> o0) = (<a href="Language-Sunroof.html#t:JSArray">JSArray</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> o0)), <a href="Language-Sunroof.html#t:JSArray">JSArray</a> (<a href="Language-Sunroof.html#t:JSContinuation">JSContinuation</a> o0))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:newMVar" class="def">newMVar</a> :: <span class="keyword">forall</span> a t. <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> a)</p><div class="doc"><p>Create a new <code><a href="Language-Sunroof.html#t:JSMVar">JSMVar</a></code> with the given value inside.
   See <code><a href="Language-Sunroof.html#v:newEmptyMVar">newEmptyMVar</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:newEmptyMVar" class="def">newEmptyMVar</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t (<a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> a)</p><div class="doc"><p>Create a new empty <code><a href="Language-Sunroof.html#t:JSMVar">JSMVar</a></code>.
   See <code><a href="Language-Sunroof.html#v:newMVar">newMVar</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:takeMVar" class="def">takeMVar</a> :: <span class="keyword">forall</span> a. (<a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a, <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a) =&gt; <a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> a</p><div class="doc"><p>Take the value out of the <code><a href="Language-Sunroof.html#t:JSMVar">JSMVar</a></code>. If there is no value
   inside, this will block until one is available.</p></div></div><div class="top"><p class="src"><a name="v:putMVar" class="def">putMVar</a> :: <span class="keyword">forall</span> a. <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; a -&gt; <a href="Language-Sunroof.html#t:JSMVar">JSMVar</a> a -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> <a href="Language-Sunroof.html#v:B">B</a> ()</p><div class="doc"><p>Put the value into the <code><a href="Language-Sunroof.html#t:JSMVar">JSMVar</a></code>. If there already is a
   value inside, this will block until it is taken out.</p></div></div><h1 id="g:16">DSL Utilties</h1><div class="top"><p class="src"><a name="v:loop" class="def">loop</a> :: <a href="Language-Sunroof.html#t:Sunroof">Sunroof</a> a =&gt; a -&gt; (a -&gt; <a href="Language-Sunroof.html#t:JSB">JSB</a> a) -&gt; <a href="Language-Sunroof.html#t:JSB">JSB</a> ()</p><div class="doc"><p><code>loop x f</code> executes the function <code>f</code> repeatedly.
   After each iteration the result value of the function
   is feed back as input of the next iteration.
   The initial value supplied for the first iteration is <code>x</code>.
   This loop will never terminate.</p></div></div><div class="top"><p class="src"><a name="v:fixJS" class="def">fixJS</a> :: <a href="Language-Sunroof.html#t:SunroofArgument">SunroofArgument</a> a =&gt; (a -&gt; <a href="Language-Sunroof.html#t:JSA">JSA</a> a) -&gt; <a href="Language-Sunroof.html#t:JS">JS</a> t a</p><div class="doc"><p><code>jsfix</code> is the <code>mfix</code> for the JS Monad.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.2</p></div></body></html>