<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Sunroof.JavaScript</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Language-Sunroof-JavaScript.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">sunroof-compiler-0.2.1: Monadic Javascript Compiler</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Sunroof.JavaScript</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Basic low-level types and their combinators.
   These are used as output of the compiler.
   Everything here is untypes and not supposed for public use!</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Expr">Expr</a> = <a href="Language-Sunroof-JavaScript.html#t:E">E</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ExprE">ExprE</a> = <a href="#v:ExprE">ExprE</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:E">E</a> expr<ul class="subs"><li>= <a href="#v:Lit">Lit</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:Var">Var</a> <a href="Language-Sunroof-JavaScript.html#t:Id">Id</a></li><li>| <a href="#v:Dot">Dot</a> expr expr <a href="Language-Sunroof-JavaScript.html#t:Type">Type</a></li><li>| <a href="#v:Apply">Apply</a> expr [expr]</li><li>| <a href="#v:Function">Function</a> [<a href="Language-Sunroof-JavaScript.html#t:Id">Id</a>] [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>]</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Id">Id</a> = <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Stmt">Stmt</a><ul class="subs"><li>= <a href="#v:AssignStmt">AssignStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Rhs">Rhs</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li><li>| <a href="#v:DeleteStmt">DeleteStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li><li>| <a href="#v:ExprStmt">ExprStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li><li>| <a href="#v:ReturnStmt">ReturnStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li><li>| <a href="#v:IfStmt">IfStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>] [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>]</li><li>| <a href="#v:WhileStmt">WhileStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>]</li><li>| <a href="#v:CommentStmt">CommentStmt</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Type">Type</a><ul class="subs"><li>= <a href="#v:Base">Base</a></li><li>| <a href="#v:Unit">Unit</a></li><li>| <a href="#v:Fun">Fun</a> [<a href="Language-Sunroof-JavaScript.html#t:Type">Type</a>] <a href="Language-Sunroof-JavaScript.html#t:Type">Type</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Rhs">Rhs</a><ul class="subs"><li>= <a href="#v:VarRhs">VarRhs</a> <a href="Language-Sunroof-JavaScript.html#t:Id">Id</a></li><li>| <a href="#v:DotRhs">DotRhs</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li></ul></li><li class="src short"><a href="#v:showExpr">showExpr</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:showStmt">showStmt</a> :: <a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a> -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:operator">operator</a> :: <a href="Language-Sunroof-JavaScript.html#t:Id">Id</a> -&gt; [<a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a>] -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:binOp">binOp</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:E">E</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a></li><li class="src short"><a href="#v:uniOp">uniOp</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:E">E</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a></li><li class="src short"><a href="#v:literal">literal</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li><li class="src short"><a href="#v:scopeForEffect">scopeForEffect</a> :: [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>] -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Expr" class="def">Expr</a> = <a href="Language-Sunroof-JavaScript.html#t:E">E</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a></p><div class="doc"><p>Short name for instantiated expressions.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ExprE" class="def">ExprE</a></p><div class="doc"><p>Instantiated expressions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ExprE" class="def">ExprE</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ExprE" class="caption collapser" onclick="toggleSection('i:ExprE')">Instances</p><div id="section.i:ExprE" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/scrap/haskell/sunroof-test/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/data-reify-0.6/html/Data-Reify.html#t:MuRef">MuRef</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///home/kcarter/scrap/haskell/sunroof-test/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.2/data-reify-0.6/html/Data-Reify.html#t:DeRef">DeRef</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a> = <a href="Language-Sunroof-JavaScript.html#t:E">E</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:E" class="def">E</a> expr</p><div class="doc"><p>Plain expressions in Javascript.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Lit" class="def">Lit</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></td><td class="doc"><p>A precompiled (atomic) Javascript literal.</p></td></tr><tr><td class="src"><a name="v:Var" class="def">Var</a> <a href="Language-Sunroof-JavaScript.html#t:Id">Id</a></td><td class="doc"><p>A variable.</p></td></tr><tr><td class="src"><a name="v:Dot" class="def">Dot</a> expr expr <a href="Language-Sunroof-JavaScript.html#t:Type">Type</a></td><td class="doc"><p>Field/attribute access (with type information): <code>expr . expr :: Type</code></p></td></tr><tr><td class="src"><a name="v:Apply" class="def">Apply</a> expr [expr]</td><td class="doc"><p>Function application: <code>expr ( expr, ..., expr )</code></p></td></tr><tr><td class="src"><a name="v:Function" class="def">Function</a> [<a href="Language-Sunroof-JavaScript.html#t:Id">Id</a>] [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>]</td><td class="doc"><p>Anonymous function with parameter names and body.</p></td></tr></table></div><div class="subs instances"><p id="control.i:E" class="caption collapser" onclick="toggleSection('i:E')">Instances</p><div id="section.i:E" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Monad.html#t:Functor">Functor</a> <a href="Language-Sunroof-JavaScript.html#t:E">E</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Foldable.html#t:Foldable">Foldable</a> <a href="Language-Sunroof-JavaScript.html#t:E">E</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Traversable.html#t:Traversable">Traversable</a> <a href="Language-Sunroof-JavaScript.html#t:E">E</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> expr =&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Sunroof-JavaScript.html#t:E">E</a> expr)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Id" class="def">Id</a> = <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Javascript identifier.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Stmt" class="def">Stmt</a></p><div class="doc"><p>Plain Javascript statements.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AssignStmt" class="def">AssignStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Rhs">Rhs</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></td><td class="doc"><p>Restricted assignment: <code>Rhs = Expr;</code></p></td></tr><tr><td class="src"><a name="v:DeleteStmt" class="def">DeleteStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></td><td class="doc"><p>Delete reference <code>delete Rhs;</code></p></td></tr><tr><td class="src"><a name="v:ExprStmt" class="def">ExprStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></td><td class="doc"><p>Expression statement, for the sake of its side effects: <code>Expr;</code></p></td></tr><tr><td class="src"><a name="v:ReturnStmt" class="def">ReturnStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></td><td class="doc"><p>Return statement: <code>return Expr;</code></p></td></tr><tr><td class="src"><a name="v:IfStmt" class="def">IfStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>] [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>]</td><td class="doc"><p>If-Then-Else statement: <code>if (Expr) { Stmts } else { Stmts }</code></p></td></tr><tr><td class="src"><a name="v:WhileStmt" class="def">WhileStmt</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>]</td><td class="doc"><p>While loop: <code>while (Expr) { Stmts }</code></p></td></tr><tr><td class="src"><a name="v:CommentStmt" class="def">CommentStmt</a> <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></td><td class="doc"><p>A comment in the code: <code>// String</code></p></td></tr></table></div><div class="subs instances"><p id="control.i:Stmt" class="caption collapser" onclick="toggleSection('i:Stmt')">Instances</p><div id="section.i:Stmt" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Type" class="def">Type</a></p><div class="doc"><p>Abstract types for Javascript expressions in Sunroof.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Base" class="def">Base</a></td><td class="doc"><p>Base type like object or other primtive types.</p></td></tr><tr><td class="src"><a name="v:Unit" class="def">Unit</a></td><td class="doc"><p>Unit or void type. There is a effect but no value.</p></td></tr><tr><td class="src"><a name="v:Fun" class="def">Fun</a> [<a href="Language-Sunroof-JavaScript.html#t:Type">Type</a>] <a href="Language-Sunroof-JavaScript.html#t:Type">Type</a></td><td class="doc"><p>Function type: <code>(t_1,..,t_n) -&gt; t</code></p></td></tr></table></div><div class="subs instances"><p id="control.i:Type" class="caption collapser" onclick="toggleSection('i:Type')">Instances</p><div id="section.i:Type" class="show"><table><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Sunroof-JavaScript.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="Language-Sunroof-JavaScript.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Language-Sunroof-JavaScript.html#t:Type">Type</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Rhs" class="def">Rhs</a></p><div class="doc"><p>A Right hand side of an assignment.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:VarRhs" class="def">VarRhs</a> <a href="Language-Sunroof-JavaScript.html#t:Id">Id</a></td><td class="doc"><p>A variable</p></td></tr><tr><td class="src"><a name="v:DotRhs" class="def">DotRhs</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></td><td class="doc"><p>a named field</p></td></tr></table></div></div><div class="top"><p class="src"><a name="v:showExpr" class="def">showExpr</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Show an expression as compiled Javascript.
   The boolean argument says non-trivial arguments need parenthesis.</p></div></div><div class="top"><p class="src"><a name="v:showStmt" class="def">showStmt</a> :: <a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a> -&gt; <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Translate a statement into actual Javascript.</p></div></div><div class="top"><p class="src"><a name="v:operator" class="def">operator</a> :: <a href="Language-Sunroof-JavaScript.html#t:Id">Id</a> -&gt; [<a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a>] -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></p><div class="doc"><p>Combinator to create a operator/function applied to the given arguments.</p></div></div><div class="top"><p class="src"><a name="v:binOp" class="def">binOp</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:E">E</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a></p><div class="doc"><p>Short-hand to create the applied binary operator/function.
   See <code><a href="Language-Sunroof-JavaScript.html#v:operator">operator</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:uniOp" class="def">uniOp</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:E">E</a> <a href="Language-Sunroof-JavaScript.html#t:ExprE">ExprE</a></p><div class="doc"><p>Short-hand to create the applied unary operator/function.
   See <code><a href="Language-Sunroof-JavaScript.html#v:operator">operator</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:literal" class="def">literal</a> :: <a href="file:///home/kcarter/.ghc_versions/7.8.2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></p><div class="doc"><p>Combinator to create a expression containing a
   literal in form of a string.</p></div></div><div class="top"><p class="src"><a name="v:scopeForEffect" class="def">scopeForEffect</a> :: [<a href="Language-Sunroof-JavaScript.html#t:Stmt">Stmt</a>] -&gt; <a href="Language-Sunroof-JavaScript.html#t:Expr">Expr</a></p><div class="doc"><p>Create a anonymous function to scope all effects
   in the given block of statement.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.2</p></div></body></html>