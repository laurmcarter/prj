<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.Trail</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-Trail.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-lib-1.0.1: Embedded domain-specific language for declarative graphics</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Maintainer</th><td>diagrams-discuss@googlegroups.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Diagrams.Trail</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Type definitions
</a><ul><li><a href="#g:2">Lines and loops
</a></li><li><a href="#g:3">Generic trails
</a></li></ul></li><li><a href="#g:4">Constructing trails
</a></li><li><a href="#g:5">Eliminating trails
</a></li><li><a href="#g:6">Modifying trails
</a></li><li><a href="#g:7">Internals
</a><ul><li><a href="#g:8">Type tags
</a></li><li><a href="#g:9">Segment trees
</a></li><li><a href="#g:10">Extracting segments
</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines <em>trails</em>, translationally invariant paths
 through space.  Trails form a central part of the diagrams-lib API,
 so the documentation for this module merits careful study.
</p><p>Related modules include:
</p><ul><li> The <code>TrailLike</code> class (<a href="Diagrams-TrailLike.html">Diagrams.TrailLike</a>) exposes a generic
   API for building a wide range of things out of trails.
</li><li> <code>Path</code>s (<a href="Diagrams-Path.html">Diagrams.Path</a>) are collections of <code><a href="Diagrams-Located.html#t:Located">Located</a></code>
   (<a href="Diagrams-Located.html">Diagrams.Located</a>) trails.
</li><li> Trails are composed of <code><a href="Diagrams-Segment.html#t:Segment">Segment</a></code>s (see <a href="Diagrams-Segment.html">Diagrams.Segment</a>),
   though most users should not need to work with segments directly.
</li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Trail-39-">Trail'</a> l v <span class="keyword">where</span><ul class="subs"><li><a href="#v:Line">Line</a> ::  <a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v  </li><li><a href="#v:Loop">Loop</a> ::  <a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v -&gt; <a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Open">Open</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v  </li></ul></li><li class="src short"><a href="#v:glueLine">glueLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v</li><li class="src short"><a href="#v:closeLine">closeLine</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v</li><li class="src short"><a href="#v:cutLoop">cutLoop</a> :: <span class="keyword">forall</span> v. (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Trail">Trail</a> v <span class="keyword">where</span><ul class="subs"><li><a href="#v:Trail">Trail</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v  </li></ul></li><li class="src short"><a href="#v:wrapTrail">wrapTrail</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:wrapLine">wrapLine</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:wrapLoop">wrapLoop</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:onTrail">onTrail</a> ::  (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l1 v) -&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l2 v) -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:onLine">onLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v) -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:glueTrail">glueTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:closeTrail">closeTrail</a> ::  <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:cutTrail">cutTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:emptyLine">emptyLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</li><li class="src short"><a href="#v:emptyTrail">emptyTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:lineFromVertices">lineFromVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v] -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</li><li class="src short"><a href="#v:trailFromVertices">trailFromVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v] -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:lineFromOffsets">lineFromOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [v] -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</li><li class="src short"><a href="#v:trailFromOffsets">trailFromOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [v] -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:lineFromSegments">lineFromSegments</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v] -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</li><li class="src short"><a href="#v:trailFromSegments">trailFromSegments</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v] -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:withTrail-39-">withTrail'</a> ::  (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; r) -&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; r) -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v -&gt; r</li><li class="src short"><a href="#v:withTrail">withTrail</a> ::  (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; r) -&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; r) -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; r</li><li class="src short"><a href="#v:withLine">withLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; r) -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; r</li><li class="src short"><a href="#v:isLineEmpty">isLineEmpty</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isTrailEmpty">isTrailEmpty</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isLine">isLine</a> ::  <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isLoop">isLoop</a> ::  <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:trailSegments">trailSegments</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v]</li><li class="src short"><a href="#v:lineSegments">lineSegments</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v]</li><li class="src short"><a href="#v:loopSegments">loopSegments</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; ([<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v], <a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Open">Open</a> v)</li><li class="src short"><a href="#v:onLineSegments">onLineSegments</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; ([<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v] -&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v]) -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</li><li class="src short"><a href="#v:trailOffsets">trailOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; [v]</li><li class="src short"><a href="#v:trailOffset">trailOffset</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; v</li><li class="src short"><a href="#v:lineOffsets">lineOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; [v]</li><li class="src short"><a href="#v:lineOffset">lineOffset</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; v</li><li class="src short"><a href="#v:loopOffsets">loopOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; [v]</li><li class="src short"><a href="#v:trailVertices">trailVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v) -&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v]</li><li class="src short"><a href="#v:lineVertices">lineVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v) -&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v]</li><li class="src short"><a href="#v:loopVertices">loopVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v) -&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v]</li><li class="src short"><a href="#v:fixTrail">fixTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v) -&gt; [<a href="Diagrams-Segment.html#t:FixedSegment">FixedSegment</a> v]</li><li class="src short"><a href="#v:reverseTrail">reverseTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</li><li class="src short"><a href="#v:reverseLocTrail">reverseLocTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v) -&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</li><li class="src short"><a href="#v:reverseLine">reverseLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</li><li class="src short"><a href="#v:reverseLocLine">reverseLocLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v) -&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</li><li class="src short"><a href="#v:reverseLoop">reverseLoop</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v</li><li class="src short"><a href="#v:reverseLocLoop">reverseLocLoop</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v) -&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v)</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Line">Line</a> </li><li class="src short"><span class="keyword">data</span>  <a href="#t:Loop">Loop</a> </li><li class="src short"><span class="keyword">newtype</span>  <a href="#t:SegTree">SegTree</a> v = <a href="#v:SegTree">SegTree</a> (FingerTree (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) (<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v))</li><li class="src short"><a href="#v:trailMeasure">trailMeasure</a> :: (InnerSpace v, OrderedField (Scalar v), <a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v :&gt;: m, Measured (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) t) =&gt; a -&gt; (m -&gt; a) -&gt; t -&gt; a</li><li class="src short"><a href="#v:numSegs">numSegs</a> :: (<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Floating">Floating</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Num">Num</a> c, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (Scalar v), InnerSpace v, Measured (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) a) =&gt; a -&gt; c</li><li class="src short"><a href="#v:offset">offset</a> :: (<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Floating">Floating</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (Scalar v), InnerSpace v, Measured (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) t) =&gt; t -&gt; v</li><li class="src short"><span class="keyword">newtype</span>  <a href="#t:GetSegment">GetSegment</a> t = <a href="#v:GetSegment">GetSegment</a> t</li><li class="src short"><a href="#v:getSegment">getSegment</a> ::  t -&gt; <a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> t</li></ul></div><div id="interface"><h1 id="g:1">Type definitions
</h1><h2 id="g:2">Lines and loops
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Trail-39-" class="def">Trail'</a> l v <span class="keyword">where</span></p><div class="doc"><p>Intuitively, a trail is a single, continuous path through space.
   However, a trail has no fixed starting point; it merely specifies
   <em>how</em> to move through space, not <em>where</em>.  For example, &quot;take
   three steps forward, then turn right twenty degrees and take two
   more steps&quot; is an intuitive analog of a trail; these
   instructions specify a path through space from any given starting
   location.  To be precise, trails are <em>translation-invariant</em>;
   applying a translation to a trail has no effect.
</p><p>A <code><code><a href="Diagrams-Located.html#t:Located">Located</a></code> Trail</code>, on the other hand, is a trail paired with
   some concrete starting location (&quot;start at the big tree on the
   corner, then take three steps forward, ...&quot;).  See the
   <a href="Diagrams-Located.html">Diagrams.Located</a> module for help working with <code><a href="Diagrams-Located.html#t:Located">Located</a></code> values.
</p><p>Formally, the semantics of a trail is a continuous (though not
   necessarily differentiable) function from the real interval [0,1]
   to vectors in some vector space.  (In contrast, a <code><a href="Diagrams-Located.html#t:Located">Located</a></code> trail
   is a continuous function from [0,1] to <em>points</em> in some <em>affine</em>
   space.)
</p><p>There are two types of trails:
</p><ul><li> A &quot;line&quot; (think of the &quot;train&quot;, &quot;subway&quot;, or &quot;bus&quot;
     variety, rather than the &quot;straight&quot; variety...) is a trail
     with two distinct endpoints.  Actually, a line can have the
     same start and end points, but it is still <em>drawn</em> as if it had
     distinct endpoints: the two endpoints will have the appropriate
     end caps, and the trail will not be filled.  Lines have a
     <code>Monoid</code> instance where <code>mappend</code> corresponds to concatenation,
     <em>i.e.</em> chaining one line after the other.
</li><li> A &quot;loop&quot; is required to end in the same place it starts (that
     is, t(0) = t(1)).  Loops are filled and are drawn as one
     continuous loop, with the appropriate join at the
     start/endpoint rather than end caps.  Loops do not have a
     <code>Monoid</code> instance.
</li></ul><p>To convert between lines and loops, see <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code>,
   <code><a href="Diagrams-Trail.html#v:closeLine">closeLine</a></code>, and <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code>.
</p><p>To construct trails, see <code><a href="Diagrams-Trail.html#v:emptyTrail">emptyTrail</a></code>, <code><a href="Diagrams-Trail.html#v:trailFromSegments">trailFromSegments</a></code>,
   <code><a href="Diagrams-Trail.html#v:trailFromVertices">trailFromVertices</a></code>, <code><a href="Diagrams-Trail.html#v:trailFromOffsets">trailFromOffsets</a></code>, and friends.  You can
   also get any type of trail from any function which returns a
   <code>TrailLike</code> (<em>e.g.</em> functions in <a href="Diagrams-TwoD-Shapes.html">Diagrams.TwoD.Shapes</a>, and many
   others; see <a href="Diagrams-TrailLike.html">Diagrams.TrailLike</a>).
</p><p>To extract information from trails, see <code><a href="Diagrams-Trail.html#v:withLine">withLine</a></code>, <code><a href="Diagrams-Trail.html#v:isLoop">isLoop</a></code>,
   <code><a href="Diagrams-Trail.html#v:trailSegments">trailSegments</a></code>, <code><a href="Diagrams-Trail.html#v:trailOffsets">trailOffsets</a></code>, <code><a href="Diagrams-Trail.html#v:trailVertices">trailVertices</a></code>, and friends.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Line" class="def">Line</a> ::  <a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Loop" class="def">Loop</a> ::  <a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v -&gt; <a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Open">Open</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Trail-39-" class="caption collapser" onclick="toggleSection('i:Trail-39-')">Instances</p><div id="section.i:Trail-39-" class="show"><table><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> c v)), <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> c v)), VectorSpace v, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Num">Num</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Tangent.html#t:Tangent">Tangent</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> c v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v))</td><td class="doc"><p>The parameterization for loops wraps around, <em>i.e.</em> parameters
   are first reduced &quot;mod 1&quot;.
</p></td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v))</td><td class="doc"><p>Parameters less than 0 yield the first segment; parameters
   greater than 1 yield the last.  A parameter exactly at the
   junction of two segments yields the second segment (<em>i.e.</em> the
   one with higher parameter values).
</p></td></tr><tr><td class="src">(<a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> c v)), VectorSpace v, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Num">Num</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Tangent.html#t:Tangent">Tangent</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> c v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(OrderedField (Scalar v), InnerSpace v) =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</td><td class="doc"><p>The empty trail is constantly the zero vector.  Trails are
   composed via concatenation.  Note that only lines have a monoid
   instance (and not loops).
</p></td></tr><tr><td class="src">(OrderedField (Scalar v), InnerSpace v) =&gt; Semigroup (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(HasLinearMap v, InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Transform.html#t:Transformable">Transformable</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Envelope.html#t:Enveloped">Enveloped</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc"><p>The envelope for a trail is based at the trail's start.
</p></td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:HasArcLength">HasArcLength</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Floating">Floating</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Sectionable">Sectionable</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Num">Num</a> (Scalar v) =&gt; <a href="Diagrams-Parametric.html#t:DomainBounds">DomainBounds</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-TrailLike.html#t:TrailLike">TrailLike</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v)</td><td class="doc"><p>Loops are trail-like.  If given a <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code> containing a line, the
   line will be turned into a loop using <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code>.  The location
   is ignored.
</p></td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-TrailLike.html#t:TrailLike">TrailLike</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</td><td class="doc"><p>Lines are trail-like.  If given a <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code> which contains a loop,
   the loop will be cut with <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code>.  The location is ignored.
</p></td></tr><tr><td class="src">(HasLinearMap v, InnerSpace v, OrderedField (Scalar v)) =&gt; Renderable (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> o v) NullBackend</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:glueLine" class="def">glueLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v</p><div class="doc"><p>Make a line into a loop by &quot;gluing&quot; the endpoint to the
   starting point.  In particular, the offset of the final segment
   is modified so that it ends at the starting point of the entire
   trail.  Typically, you would first construct a line which you
   know happens to end where it starts, and then call <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code> to
   turn it into a loop.
</p><p><img src="diagrams/src_Diagrams_Trail_glueLineEx.svg#diagram=glueLineEx&amp;width=500" />
</p><pre> glueLineEx = pad 1.1 . hcat' (with &amp; sep .~ 1)
   $ [almostClosed # strokeLine, almostClosed # glueLine # strokeLoop]

 almostClosed :: Trail' Line R2
 almostClosed = fromOffsets $ map r2 [(2, -1), (-3, -0.5), (-2, 1), (1, 0.5)]
</pre><p><code>glueLine</code> is left inverse to <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code>, that is,
</p><pre>
   glueLine . cutLoop === id
</pre></div></div><div class="top"><p class="src"><a name="v:closeLine" class="def">closeLine</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v</p><div class="doc"><p>Make a line into a loop by adding a new linear segment from the
   line's end to its start.
</p><p><code>closeLine</code> does not have any particularly nice theoretical
   properties, but can be useful <em>e.g.</em> when you want to make a
   closed polygon out of a list of points where the initial point is
   not repeated at the end.  To use <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code>, one would first have
   to duplicate the initial vertex, like
</p><pre>
 <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code> . <code><a href="Diagrams-Trail.html#v:lineFromVertices">lineFromVertices</a></code> $ ps ++ [head ps]
</pre><p>Using <code>closeLine</code>, however, one can simply
</p><pre>
 closeLine . lineFromVertices $ ps
</pre><p><img src="diagrams/src_Diagrams_Trail_closeLineEx.svg#diagram=closeLineEx&amp;width=500" />
</p><pre> closeLineEx = pad 1.1 . centerXY . hcat' (with &amp; sep .~ 1)
   $ [almostClosed # strokeLine, almostClosed # closeLine # strokeLoop]
</pre></div></div><div class="top"><p class="src"><a name="v:cutLoop" class="def">cutLoop</a> :: <span class="keyword">forall</span> v. (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</p><div class="doc"><p>Turn a loop into a line by &quot;cutting&quot; it at the common start/end
   point, resulting in a line which just happens to start and end at
   the same place.
</p><p><code>cutLoop</code> is right inverse to <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code>, that is,
</p><pre>
   glueLine . cutLoop === id
</pre></div></div><h2 id="g:3">Generic trails
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Trail" class="def">Trail</a> v <span class="keyword">where</span></p><div class="doc"><p><code>Trail</code> is a wrapper around <code>Trail'</code>, hiding whether the
   underlying <code>Trail'</code> is a line or loop (though which it is can be
   recovered; see <em>e.g.</em> <code><a href="Diagrams-Trail.html#v:withTrail">withTrail</a></code>).
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Trail" class="def">Trail</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Trail" class="caption collapser" onclick="toggleSection('i:Trail')">Instances</p><div id="section.i:Trail" class="show"><table><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(OrderedField (Scalar v), InnerSpace v) =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc"><p><code>Trail</code>s are combined as described in the <code>Semigroup</code> instance;
   the empty line is the identity element, with special cases so
   that combining the empty line with a loop results in the
   unchanged loop (in all other cases loops will be cut).  Note that
   this does, in fact, satisfy the monoid laws, though it is a bit
   strange.  Mostly it is provided for convenience, so one can work
   directly with <code>Trail</code>s instead of working with <code>Trail' Line</code>s and
   then wrapping.
</p></td></tr><tr><td class="src">(OrderedField (Scalar v), InnerSpace v) =&gt; Semigroup (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc"><p>Two <code>Trail</code>s are combined by first ensuring they are both lines
   (using <code><a href="Diagrams-Trail.html#v:cutTrail">cutTrail</a></code> on loops) and then concatenating them.  The
   result, in general, is a line.  However, there is a special case
   for the empty line, which acts as the identity (so combining the
   empty line with a loop results in a loop).
</p></td></tr><tr><td class="src">(HasLinearMap v, InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Transform.html#t:Transformable">Transformable</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Envelope.html#t:Enveloped">Enveloped</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:HasArcLength">HasArcLength</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Floating">Floating</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Sectionable">Sectionable</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc"><p>Note that there is no <code>Sectionable</code> instance for <code>Trail' Loop</code>,
   because it does not make sense (splitting a loop at a parameter
   results in a single line, not two loops).  However, it's
   convenient to have a <code>Sectionable</code> instance for <code>Trail</code>; if the
   <code>Trail</code> contains a loop the loop will first be cut and then
   <code>splitAtParam</code> called on the resulting line.  This is
   semantically a bit silly, so please don't rely on it. (*E.g.* if
   this is really the behavior you want, consider first calling
   <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code> yourself.)
</p></td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Tangent.html#t:Tangent">Tangent</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Num">Num</a> (Scalar v) =&gt; <a href="Diagrams-Parametric.html#t:DomainBounds">DomainBounds</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Tangent.html#t:Tangent">Tangent</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-TrailLike.html#t:TrailLike">TrailLike</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</td><td class="doc"><p><code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code>s are trail-like; the location is simply ignored.
</p></td></tr><tr><td class="src">(<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> v, OrderedField (Scalar v), InnerSpace v, HasLinearMap v) =&gt; Renderable (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v) <a href="Diagrams-Backend-Show.html#t:ShowBackend">ShowBackend</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Wrapped [<a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)] [<a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v')] (<a href="Diagrams-Path.html#t:Path">Path</a> v) (<a href="Diagrams-Path.html#t:Path">Path</a> v')</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:wrapTrail" class="def">wrapTrail</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p>Convert a <code><a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a></code> into a <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code>, hiding the type-level
   distinction between lines and loops.
</p></div></div><div class="top"><p class="src"><a name="v:wrapLine" class="def">wrapLine</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p>Convert a line into a <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code>.  This is the same as <code><a href="Diagrams-Trail.html#v:wrapTrail">wrapTrail</a></code>,
   but with a more specific type, which can occasionally be
   convenient for fixing the type of a polymorphic expression.
</p></div></div><div class="top"><p class="src"><a name="v:wrapLoop" class="def">wrapLoop</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p>Convert a loop into a <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code>.  This is the same as <code><a href="Diagrams-Trail.html#v:wrapTrail">wrapTrail</a></code>,
   but with a more specific type, which can occasionally be
   convenient for fixing the type of a polymorphic expression.
</p></div></div><div class="top"><p class="src"><a name="v:onTrail" class="def">onTrail</a> ::  (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l1 v) -&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l2 v) -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p>Modify a <code>Trail</code>, specifying two separate transformations for the
   cases of a line or a loop.
</p></div></div><div class="top"><p class="src"><a name="v:onLine" class="def">onLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v) -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p>Modify a <code>Trail</code> by specifying a transformation on lines.  If the
   trail is a line, the transformation will be applied directly.  If
   it is a loop, it will first be cut using <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code>, the
   transformation applied, and then glued back into a loop with
   <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code>.  That is,
</p><pre>
   onLine f === onTrail f (glueLine . f . cutLoop)
</pre><p>Note that there is no corresponding <code>onLoop</code> function, because
   there is no nice way in general to convert a line into a loop,
   operate on it, and then convert back.
</p></div></div><div class="top"><p class="src"><a name="v:glueTrail" class="def">glueTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p><code>glueTrail</code> is a variant of <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code> which works on <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code>s.
   It performs <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code> on lines and is the identity on loops.
</p></div></div><div class="top"><p class="src"><a name="v:closeTrail" class="def">closeTrail</a> ::  <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p><code>closeTrail</code> is a variant of <code><a href="Diagrams-Trail.html#v:closeLine">closeLine</a></code> for <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code>, which
   performs <code><a href="Diagrams-Trail.html#v:closeLine">closeLine</a></code> on lines and is the identity on loops.
</p></div></div><div class="top"><p class="src"><a name="v:cutTrail" class="def">cutTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p><code>cutTrail</code> is a variant of <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code> for <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code>; it is the is
   the identity on lines and performs <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code> on loops.
</p></div></div><h1 id="g:4">Constructing trails
</h1><div class="top"><p class="src"><a name="v:emptyLine" class="def">emptyLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</p><div class="doc"><p>The empty line, which is the identity for concatenation of lines.
</p></div></div><div class="top"><p class="src"><a name="v:emptyTrail" class="def">emptyTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p>A wrapped variant of <code><a href="Diagrams-Trail.html#v:emptyLine">emptyLine</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:lineFromVertices" class="def">lineFromVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v] -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</p><div class="doc"><p>Construct a line containing only linear segments from a list of
   vertices.  Note that only the relative offsets between the
   vertices matters; the information about their absolute position
   will be discarded.  That is, for all vectors <code>v</code>,
</p><pre>
 lineFromVertices === lineFromVertices . <code><a href="Diagrams-Transform.html#v:translate">translate</a></code> v
</pre><p>If you want to retain the position information, you should
   instead use the more general <code>fromVertices</code> function to
   construct, say, a <code><code><a href="Diagrams-Located.html#t:Located">Located</a></code> (<code><a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a></code> <code><a href="Diagrams-Trail.html#t:Line">Line</a></code> v)</code> or a <code><code><a href="Diagrams-Located.html#t:Located">Located</a></code>
   (<code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code> v)</code>.
</p><p><img src="diagrams/src_Diagrams_Trail_lineFromVerticesEx.svg#diagram=lineFromVerticesEx&amp;width=300" />
</p><pre> import Diagrams.Coordinates
 lineFromVerticesEx = pad 1.1 . centerXY . strokeLine
   $ lineFromVertices [origin, 0 ^&amp; 1, 1 ^&amp; 2, 5 ^&amp; 1]
</pre></div></div><div class="top"><p class="src"><a name="v:trailFromVertices" class="def">trailFromVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v] -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p><code>trailFromVertices === <code><a href="Diagrams-Trail.html#v:wrapTrail">wrapTrail</a></code> . <code><a href="Diagrams-Trail.html#v:lineFromVertices">lineFromVertices</a></code></code>, for
   conveniently constructing a <code>Trail</code> instead of a <code>Trail' Line</code>.
</p></div></div><div class="top"><p class="src"><a name="v:lineFromOffsets" class="def">lineFromOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [v] -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</p><div class="doc"><p>Construct a line containing only linear segments from a list of
   vectors, where each vector represents the offset from one vertex
   to the next.  See also <code>fromOffsets</code>.
</p><p><img src="diagrams/src_Diagrams_Trail_lineFromOffsetsEx.svg#diagram=lineFromOffsetsEx&amp;width=300" />
</p><pre> import Diagrams.Coordinates
 lineFromOffsetsEx = strokeLine $ lineFromOffsets [ 2 ^&amp; 1, 2 ^&amp; (-1), 2 ^&amp; 0.5 ]
</pre></div></div><div class="top"><p class="src"><a name="v:trailFromOffsets" class="def">trailFromOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [v] -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p><code>trailFromOffsets === <code><a href="Diagrams-Trail.html#v:wrapTrail">wrapTrail</a></code> . <code><a href="Diagrams-Trail.html#v:lineFromOffsets">lineFromOffsets</a></code></code>, for
   conveniently constructing a <code>Trail</code> instead of a <code>Trail' Line</code>.
</p></div></div><div class="top"><p class="src"><a name="v:lineFromSegments" class="def">lineFromSegments</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v] -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</p><div class="doc"><p>Construct a line from a list of closed segments.
</p></div></div><div class="top"><p class="src"><a name="v:trailFromSegments" class="def">trailFromSegments</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v] -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p><code>trailFromSegments === <code><a href="Diagrams-Trail.html#v:wrapTrail">wrapTrail</a></code> . <code><a href="Diagrams-Trail.html#v:lineFromSegments">lineFromSegments</a></code></code>, for
   conveniently constructing a <code>Trail</code> instead of a <code>Trail'</code>.
</p></div></div><h1 id="g:5">Eliminating trails
</h1><div class="top"><p class="src"><a name="v:withTrail-39-" class="def">withTrail'</a> ::  (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; r) -&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; r) -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> l v -&gt; r</p><div class="doc"><p>A generic eliminator for <code><a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a></code>, taking functions specifying
   what to do in the case of a line or a loop.
</p></div></div><div class="top"><p class="src"><a name="v:withTrail" class="def">withTrail</a> ::  (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; r) -&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; r) -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; r</p><div class="doc"><p>A generic eliminator for <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code>, taking functions specifying
   what to do in the case of a line or a loop.
</p></div></div><div class="top"><p class="src"><a name="v:withLine" class="def">withLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; r) -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; r</p><div class="doc"><p>An eliminator for <code>Trail</code> based on eliminating lines: if the
   trail is a line, the given function is applied; if it is a loop, it
   is first converted to a line with <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code>.  That is,
</p><pre>
 withLine f === <code><a href="Diagrams-Trail.html#v:withTrail">withTrail</a></code> f (f . <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code>)
</pre></div></div><div class="top"><p class="src"><a name="v:isLineEmpty" class="def">isLineEmpty</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Test whether a line is empty.
</p></div></div><div class="top"><p class="src"><a name="v:isTrailEmpty" class="def">isTrailEmpty</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Test whether a trail is empty.  Note that loops are never empty.
</p></div></div><div class="top"><p class="src"><a name="v:isLine" class="def">isLine</a> ::  <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Determine whether a trail is a line.
</p></div></div><div class="top"><p class="src"><a name="v:isLoop" class="def">isLoop</a> ::  <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Determine whether a trail is a loop.
</p></div></div><div class="top"><p class="src"><a name="v:trailSegments" class="def">trailSegments</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v]</p><div class="doc"><p>Extract the segments of a trail.  If the trail is a loop it will
   first have <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code> applied.
</p></div></div><div class="top"><p class="src"><a name="v:lineSegments" class="def">lineSegments</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v]</p><div class="doc"><p>Extract the segments comprising a line.
</p></div></div><div class="top"><p class="src"><a name="v:loopSegments" class="def">loopSegments</a> ::  <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; ([<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v], <a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Open">Open</a> v)</p><div class="doc"><p>Extract the segments comprising a loop: a list of closed
   segments, and one final open segment.
</p></div></div><div class="top"><p class="src"><a name="v:onLineSegments" class="def">onLineSegments</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; ([<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v] -&gt; [<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v]) -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</p><div class="doc"><p>Modify a line by applying a function to its list of segments.
</p></div></div><div class="top"><p class="src"><a name="v:trailOffsets" class="def">trailOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; [v]</p><div class="doc"><p>Extract the offsets of the segments of a trail.
</p></div></div><div class="top"><p class="src"><a name="v:trailOffset" class="def">trailOffset</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; v</p><div class="doc"><p>Compute the offset from the start of a trail to the end.  Satisfies
</p><pre>
   trailOffset === sumV . trailOffsets
</pre><p>but is more efficient.
</p><p><img src="diagrams/src_Diagrams_Trail_trailOffsetEx.svg#diagram=trailOffsetEx&amp;width=300" />
</p><pre> trailOffsetEx = (strokeLine almostClosed &lt;&gt; showOffset) # centerXY # pad 1.1
   where showOffset = fromOffsets [trailOffset (wrapLine almostClosed)]
                    # stroke # lc red # lw 0.05
</pre></div></div><div class="top"><p class="src"><a name="v:lineOffsets" class="def">lineOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; [v]</p><div class="doc"><p>Extract the offsets of the segments of a line.
</p></div></div><div class="top"><p class="src"><a name="v:lineOffset" class="def">lineOffset</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; v</p><div class="doc"><p>Compute the offset from the start of a line to the end.  (Note,
   there is no corresponding <code>loopOffset</code> function because by
   definition it would be constantly zero.)
</p></div></div><div class="top"><p class="src"><a name="v:loopOffsets" class="def">loopOffsets</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; [v]</p><div class="doc"><p>Extract the offsets of the segments of a loop.
</p></div></div><div class="top"><p class="src"><a name="v:trailVertices" class="def">trailVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v) -&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v]</p><div class="doc"><p>Extract the vertices of a concretely located trail.  Note that
   for loops, the starting vertex will <em>not</em> be repeated at the end.
   If you want this behavior, you can use <code><a href="Diagrams-Trail.html#v:cutTrail">cutTrail</a></code> to make the
   loop into a line first, which happens to repeat the same vertex
   at the start and end, <em>e.g.</em> with <code>trailVertices . mapLoc
   cutTrail</code>.
</p><p>Note that it does not make sense to ask for the vertices of a
   <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code> by itself; if you want the vertices of a trail
   with the first vertex at, say, the origin, you can use
   <code>trailVertices . (`at` origin)</code>.
</p></div></div><div class="top"><p class="src"><a name="v:lineVertices" class="def">lineVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v) -&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v]</p><div class="doc"><p>Extract the vertices of a concretely located line.  See
   <code><a href="Diagrams-Trail.html#v:trailVertices">trailVertices</a></code> for more information.
</p></div></div><div class="top"><p class="src"><a name="v:loopVertices" class="def">loopVertices</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v) -&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v]</p><div class="doc"><p>Extract the vertices of a concretely located loop.  Note that the
   initial vertex is not repeated at the end.  See <code><a href="Diagrams-Trail.html#v:trailVertices">trailVertices</a></code> for
   more information.
</p></div></div><div class="top"><p class="src"><a name="v:fixTrail" class="def">fixTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v) -&gt; [<a href="Diagrams-Segment.html#t:FixedSegment">FixedSegment</a> v]</p><div class="doc"><p>Convert a concretely located trail into a list of fixed segments.
</p></div></div><h1 id="g:6">Modifying trails
</h1><div class="top"><p class="src"><a name="v:reverseTrail" class="def">reverseTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail">Trail</a> v</p><div class="doc"><p>Reverse a trail.  Semantically, if a trail given by a function t
   from [0,1] to vectors, then the reverse of t is given by t'(s) =
   t(1-s).  <code>reverseTrail</code> is an involution, that is,
</p><pre>
   reverseTrail . reverseTrail === id
</pre></div></div><div class="top"><p class="src"><a name="v:reverseLocTrail" class="def">reverseLocTrail</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v) -&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v)</p><div class="doc"><p>Reverse a concretely located trail.  The endpoint of the original
   trail becomes the starting point of the reversed trail, so the
   original and reversed trails comprise exactly the same set of
   points.  <code>reverseLocTrail</code> is an involution, <em>i.e.</em>
</p><pre>
   reverseLocTrail . reverseLocTrail === id
</pre></div></div><div class="top"><p class="src"><a name="v:reverseLine" class="def">reverseLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v</p><div class="doc"><p>Reverse a line.  See <code><a href="Diagrams-Trail.html#v:reverseTrail">reverseTrail</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:reverseLocLine" class="def">reverseLocLine</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v) -&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</p><div class="doc"><p>Reverse a concretely located line.  See <code><a href="Diagrams-Trail.html#v:reverseLocTrail">reverseLocTrail</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:reverseLoop" class="def">reverseLoop</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v -&gt; <a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v</p><div class="doc"><p>Reverse a loop.  See <code><a href="Diagrams-Trail.html#v:reverseTrail">reverseTrail</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:reverseLocLoop" class="def">reverseLocLoop</a> :: (InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v) -&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v)</p><div class="doc"><p>Reverse a concretely located loop.  See <code><a href="Diagrams-Trail.html#v:reverseLocTrail">reverseLocTrail</a></code>.  Note
   that this is guaranteed to preserve the location.
</p></div></div><h1 id="g:7">Internals
</h1><div class="doc"><p>Most users of diagrams should not need to use anything in this
 section directly, but they are exported on the principle that we
 can't forsee what uses people might have for them.
</p></div><h2 id="g:8">Type tags
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Line" class="def">Line</a>  </p><div class="doc"><p>Type tag for trails with distinct endpoints.
</p></div><div class="subs instances"><p id="control.i:Line" class="caption collapser" onclick="toggleSection('i:Line')">Instances</p><div id="section.i:Line" class="show"><table><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v))</td><td class="doc"><p>Parameters less than 0 yield the first segment; parameters
   greater than 1 yield the last.  A parameter exactly at the
   junction of two segments yields the second segment (<em>i.e.</em> the
   one with higher parameter values).
</p></td></tr><tr><td class="src">(OrderedField (Scalar v), InnerSpace v) =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</td><td class="doc"><p>The empty trail is constantly the zero vector.  Trails are
   composed via concatenation.  Note that only lines have a monoid
   instance (and not loops).
</p></td></tr><tr><td class="src">(OrderedField (Scalar v), InnerSpace v) =&gt; Semigroup (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Floating">Floating</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Sectionable">Sectionable</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-TrailLike.html#t:TrailLike">TrailLike</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v)</td><td class="doc"><p>Lines are trail-like.  If given a <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code> which contains a loop,
   the loop will be cut with <code><a href="Diagrams-Trail.html#v:cutLoop">cutLoop</a></code>.  The location is ignored.
</p></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Loop" class="def">Loop</a>  </p><div class="doc"><p>Type tag for &quot;loopy&quot; trails which return to their starting
   point.
</p></div><div class="subs instances"><p id="control.i:Loop" class="caption collapser" onclick="toggleSection('i:Loop')">Instances</p><div id="section.i:Loop" class="show"><table><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v))</td><td class="doc"><p>The parameterization for loops wraps around, <em>i.e.</em> parameters
   are first reduced &quot;mod 1&quot;.
</p></td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-TrailLike.html#t:TrailLike">TrailLike</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v)</td><td class="doc"><p>Loops are trail-like.  If given a <code><a href="Diagrams-Trail.html#t:Trail">Trail</a></code> containing a line, the
   line will be turned into a loop using <code><a href="Diagrams-Trail.html#v:glueLine">glueLine</a></code>.  The location
   is ignored.
</p></td></tr></table></div></div></div><h2 id="g:9">Segment trees
</h2><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:SegTree" class="def">SegTree</a> v </p><div class="doc"><p>A <code>SegTree</code> represents a sequence of closed segments, stored in a
   fingertree so we can easily recover various monoidal measures of
   the segments (number of segments, arc length, envelope...) and
   also easily slice and dice them according to the measures
   (<em>e.g.</em>, split off the smallest number of segments from the
   beginning which have a combined arc length of at least 5).
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SegTree" class="def">SegTree</a> (FingerTree (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) (<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:SegTree" class="caption collapser" onclick="toggleSection('i:SegTree')">Instances</p><div id="section.i:SegTree" class="show"><table><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> v =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(OrderedField (Scalar v), InnerSpace v) =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(HasLinearMap v, InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Transform.html#t:Transformable">Transformable</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:HasArcLength">HasArcLength</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Floating">Floating</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Sectionable">Sectionable</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Num">Num</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Num">Num</a> (Scalar v) =&gt; <a href="Diagrams-Parametric.html#t:DomainBounds">DomainBounds</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(OrderedField (Scalar v), InnerSpace v) =&gt; Measured (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Wrapped (FingerTree (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) (<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v)) (FingerTree (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) (<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> v)) (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v) (<a href="Diagrams-Trail.html#t:SegTree">SegTree</a> v)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:trailMeasure" class="def">trailMeasure</a> :: (InnerSpace v, OrderedField (Scalar v), <a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v :&gt;: m, Measured (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) t) =&gt; a -&gt; (m -&gt; a) -&gt; t -&gt; a</p><div class="doc"><p>Given a default result (to be used in the case of an empty
   trail), and a function to map a single measure to a result,
   extract the given measure for a trail and use it to compute a
   result.  Put another way, lift a function on a single measure
   (along with a default value) to a function on an entire trail.
</p></div></div><div class="top"><p class="src"><a name="v:numSegs" class="def">numSegs</a> :: (<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Floating">Floating</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Num">Num</a> c, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (Scalar v), InnerSpace v, Measured (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) a) =&gt; a -&gt; c</p><div class="doc"><p>Compute the number of segments of anything measured by
   <code><a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a></code> (<em>e.g.</em> <code>SegMeasure</code> itself, <code>Segment</code>, <code>SegTree</code>,
   <code>Trail</code>s...)
</p></div></div><div class="top"><p class="src"><a name="v:offset" class="def">offset</a> :: (<a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Floating">Floating</a> (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (Scalar v), InnerSpace v, Measured (<a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a> v) t) =&gt; t -&gt; v</p><div class="doc"><p>Compute the total offset of anything measured by <code><a href="Diagrams-Segment.html#t:SegMeasure">SegMeasure</a></code>.
</p></div></div><h2 id="g:10">Extracting segments
</h2><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:GetSegment" class="def">GetSegment</a> t </p><div class="doc"><p>A newtype wrapper around trails which exists solely for its
   <code><a href="Diagrams-Parametric.html#t:Parametric">Parametric</a></code>, <code><a href="Diagrams-Parametric.html#t:DomainBounds">DomainBounds</a></code> and <code><a href="Diagrams-Parametric.html#t:EndValues">EndValues</a></code> instances.  The idea
   is that if <code>tr</code> is a trail, you can write, <em>e.g.</em>
</p><pre>
   getSegment tr <code><a href="Diagrams-Parametric.html#v:atParam">atParam</a></code> 0.6
</pre><p>or
</p><pre>
   atStart (getSegment tr)
</pre><p>to get the segment at parameter 0.6 or the first segment in the
   trail, respectively.
</p><p>The codomain for <code><a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a></code>, <em>i.e.</em> the result you get from
   calling <code><a href="Diagrams-Parametric.html#v:atParam">atParam</a></code>, <code><a href="Diagrams-Parametric.html#v:atStart">atStart</a></code>, or <code><a href="Diagrams-Parametric.html#v:atEnd">atEnd</a></code>, is <code>Maybe (v, Segment
   Closed v, AnIso' (Scalar v) (Scalar v))</code>.  <code>Nothing</code> results if
   the trail is empty; otherwise, you get:
</p><ul><li> the offset from the start of the trail to the beginning of the
     segment,
</li><li> the segment itself, and
</li><li> a reparameterization isomorphism: in the forward direction, it
     translates from parameters on the whole trail to a parameters
     on the segment.  Note that for technical reasons you have to
     call <code>cloneIso</code> on the <code>AnIso'</code> value to get a real isomorphism
     you can use.
</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:GetSegment" class="def">GetSegment</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:GetSegment" class="caption collapser" onclick="toggleSection('i:GetSegment')">Instances</p><div id="section.i:GetSegment" class="show"><table><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:EndValues">EndValues</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Parametric.html#t:DomainBounds">DomainBounds</a> t =&gt; <a href="Diagrams-Parametric.html#t:DomainBounds">DomainBounds</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> v))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v), <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:RealFrac">RealFrac</a> (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Loop">Loop</a> v))</td><td class="doc"><p>The parameterization for loops wraps around, <em>i.e.</em> parameters
   are first reduced &quot;mod 1&quot;.
</p></td></tr><tr><td class="src">(InnerSpace v, OrderedField (Scalar v)) =&gt; <a href="Diagrams-Parametric.html#t:Parametric">Parametric</a> (<a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> (<a href="Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="Diagrams-Trail.html#t:Line">Line</a> v))</td><td class="doc"><p>Parameters less than 0 yield the first segment; parameters
   greater than 1 yield the last.  A parameter exactly at the
   junction of two segments yields the second segment (<em>i.e.</em> the
   one with higher parameter values).
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:getSegment" class="def">getSegment</a> ::  t -&gt; <a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a> t</p><div class="doc"><p>Create a <code><a href="Diagrams-Trail.html#t:GetSegment">GetSegment</a></code> wrapper around a trail, after which you can
   call <code><a href="Diagrams-Parametric.html#v:atParam">atParam</a></code>, <code><a href="Diagrams-Parametric.html#v:atStart">atStart</a></code>, or <code><a href="Diagrams-Parametric.html#v:atEnd">atEnd</a></code> to extract a segment.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>